<div tb-height="settings.height" class="tb-top-bar"><div ng-hide="settings.collapsed" class="tb-top-bar-contents"><tb:react-top-bar props="topBarProps" tb-if-feature-flag="reactTopBar"></tb:react-top-bar><div tb-if-feature-flag="!reactTopBar" class="tb-top-bar-top"><div class="tb-top-bar-top-sections"><span class="tb-top-bar-top-section tb-logo-section"><a tb-background-image="logo().image" tb-width="logo().width" tb-height="logo().height" tb-test-id="top-bar-logo-link" ng-href="{{ logo().href }}" title="{{ logo().title }}" tabindex="-1" class="tb-top-bar-logo"></a></span><span class="tb-top-bar-top-section tb-spacer"></span><span class="tb-top-bar-top-section tb-server-site-section"><span ng-if="showServerSiteButtons()" class="tb-box"><a ng-href="{{ serverUrl() }}" tb-test-id="top-bar-server-button" tb-selected="inServerArea()" class="tb-top-bar-server-button">서버</a><span class="tb-top-bar-server-site-divider"></span><a ng-href="{{ siteUrl() }}" tb-test-id="top-bar-site-button" ng-if="!showSiteSwitcher()" class="tb-top-bar-site-button">사이트</a></span><tb:site-switcher ng-if="showSiteSwitcher()" site-selected="siteSelected(urlName)"></tb:site-switcher><span ng-if="!showNav()" tb-if-feature-flag="homePlaceEnabled" class="tb-box"><span ng-if="showSiteSwitcher()" class="tb-top-bar-server-site-divider"></span><a ui-sref="main.site.home" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.home' | isState)" tb-test-id="top-nav-button-home" class="tb-top-bar-header-nav-button">홈</a><a ui-sref="main.site.content.site.projects" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.content.**' | includedByState) || ('main.site.viz' | includedByState)" tb-test-id="top-nav-button-content" class="tb-top-bar-header-nav-button">콘텐츠</a></span></span><span class="tb-top-bar-top-section tb-omnibox-section"><tb:omnibox ng-show="showSiteControls()"></tb:omnibox></span><span class="tb-top-bar-top-section tb-spacer"></span><span class="tb-top-bar-top-section tb-menus-section"><tb:alert-menu ng-show="showSiteControls()" class="tb-top-bar-menu"></tb:alert-menu><tb:favorites-menu ng-show="showSiteControls()" class="tb-top-bar-menu"></tb:favorites-menu><tb:help-menu class="tb-top-bar-menu"></tb:help-menu><tb:signed-in-user-menu class="tb-top-bar-menu tb-last"></tb:signed-in-user-menu></span></div></div><div ng-if="showNav()" tb-if-feature-flag="!reactTopBar" class="tb-top-bar-bottom"><div ng-switch="server.isSessionMultiSite()" class="tb-top-bar-nav-buttons"><div ng-switch-when="true" class="tb-fill"><div ng-if="!('main.server.**' | includedByState)"><span tb-if-feature-flag="homePlaceEnabled"><a ui-sref="main.site.home({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.home' | isState)" tb-test-id="top-nav-button-home" class="tb-top-bar-nav-button">홈</a></span><span><a ui-sref="main.site.content.site.projects({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.content.**' | includedByState) || ('main.site.viz' | includedByState)" tb-test-id="top-nav-button-content" class="tb-top-bar-nav-button">콘텐츠</a></span><span ng-if="server.isSessionSiteOrServerAdmin()"><a ui-sref="main.site.users({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.users.**' | includedByState) || ('main.site.user.**' | includedByState)" tb-test-id="top-nav-button-site-users" class="tb-top-bar-nav-button">사용자</a><a ui-sref="main.site.groups({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.groups.**' | includedByState) || ('main.site.group.**' | includedByState)" tb-test-id="top-nav-button-groups" class="tb-top-bar-nav-button">그룹</a><a ui-sref="main.site.schedules({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.schedules' | isState) || ('main.site.schedule.**' | includedByState)" tb-test-id="top-nav-button-site-schedules" class="tb-top-bar-nav-button">일정</a><a ui-sref="main.site.tasks.extractTasks({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.tasks.**' | includedByState" tb-test-id="top-nav-button-site-tasks" class="tb-top-bar-nav-button">작업</a><a ui-sref="main.site.status({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.status' | isState) || ('main.site.analysis.**' | includedByState)" tb-test-id="top-nav-button-site-status" class="tb-top-bar-nav-button">상태</a></span><span ng-if="server.isSessionServerAdmin() || (server.isSessionSiteAdmin() &amp;&amp; server.isSiteAdminSettingsEnabled())"><a ui-sref="main.site.settings.siteSettings({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.settings.**' | includedByState" tb-test-id="top-nav-button-site-settings" class="tb-top-bar-nav-button">설정</a></span><span ng-if="server.isSessionSiteAdmin() &amp;&amp; !server.isSiteAdminSettingsEnabled() &amp;&amp; server.isThirdPartyAuthConfiguredForServer()"><a ui-sref="main.site.settings.authentication({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.settings.**' | includedByState" tb-test-id="top-nav-button-site-settings" class="tb-top-bar-nav-button">설정</a></span></div><span ng-if="server.isSessionServerAdmin() &amp;&amp; ('main.server.**' | includedByState)"><a ui-sref="main.server.sites.sites({})" ui-sref-opts="{ inherit: false }" tb-selected="'main.server.sites.sites' | isState" tb-test-id="top-nav-button-sites" class="tb-top-bar-nav-button">사이트</a><a ui-sref="main.server.users({})" ui-sref-opts="{ inherit: false }" tb-selected="('main.server.users.**' | includedByState) || ('main.server.user.**' | includedByState)" tb-test-id="top-nav-button-server-users" class="tb-top-bar-nav-button">사용자</a><a ui-sref="main.server.schedules({})" ui-sref-opts="{ inherit: false }" tb-selected="('main.server.schedules' | isState) || ('main.server.schedule.**' | includedByState)" tb-test-id="top-nav-button-server-schedules" class="tb-top-bar-nav-button">일정</a><a ui-sref="main.server.tasks.extractTasks({})" ui-sref-opts="{ inherit: false }" tb-selected="'main.server.tasks.**' | includedByState" tb-test-id="top-nav-button-server-tasks" class="tb-top-bar-nav-button">작업</a><a ui-sref="main.server.status({})" ui-sref-opts="{ inherit: false }" tb-selected="('main.server.status' | isState) || ('main.server.analysis.**' | includedByState)" tb-test-id="top-nav-button-server-status" class="tb-top-bar-nav-button">상태</a><a ui-sref="main.server.settings.serverSettings({})" ui-sref-opts="{ inherit: false }" tb-selected="'main.server.settings.**' | includedByState" tb-test-id="top-nav-button-server-settings" class="tb-top-bar-nav-button">설정</a></span></div><div ng-switch-when="false" class="tb-fill"><span tb-if-feature-flag="homePlaceEnabled"><a ui-sref="main.site.home({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.home' | isState)" tb-test-id="top-nav-button-home" class="tb-top-bar-nav-button">홈</a></span><span><a ui-sref="main.site.content.site.projects({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.content.**' | includedByState) || ('main.site.viz' | includedByState)" tb-test-id="top-nav-button-content" class="tb-top-bar-nav-button">콘텐츠</a></span><span ng-if="server.isSessionSiteOrServerAdmin()"><a ui-sref="main.site.users({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.users.**' | includedByState) || ('main.site.user.**' | includedByState)" tb-test-id="top-nav-button-site-users" class="tb-top-bar-nav-button">사용자</a><a ui-sref="main.site.groups({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.groups.**' | includedByState) || ('main.site.group.**' | includedByState)" tb-test-id="top-nav-button-groups" class="tb-top-bar-nav-button">그룹</a><a ui-sref="main.site.schedules({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.schedules' | isState) || ('main.site.schedule.**' | includedByState)" tb-test-id="top-nav-button-site-schedules" class="tb-top-bar-nav-button">일정</a><a ui-sref="main.site.tasks.extractTasks({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.tasks.**' | includedByState" tb-test-id="top-nav-button-site-tasks" class="tb-top-bar-nav-button">작업</a></span><span ng-if="server.isSessionSiteAdmin()"><a ui-sref="main.site.status({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="('main.site.status' | isState) || ('main.site.analysis.**' | includedByState)" tb-test-id="top-nav-button-site-status" class="tb-top-bar-nav-button">상태</a></span><span ng-if="server.isSessionServerAdmin()"><a ui-sref="main.server.status({})" ui-sref-opts="{ inherit: false }" tb-selected="('main.server.status' | isState) || ('main.server.analysis.**' | includedByState)" tb-test-id="top-nav-button-server-status" class="tb-top-bar-nav-button">상태</a><a ui-sref="main.server.settings.serverSettings({})" ui-sref-opts="{ inherit: false }" tb-selected="'main.server.settings.**' | includedByState" tb-test-id="top-nav-button-server-settings" class="tb-top-bar-nav-button">설정</a></span><span ng-if="server.isSessionSiteAdmin() &amp;&amp; server.isSiteAdminSettingsEnabled()"><a ui-sref="main.site.settings.siteSettings({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.settings.**' | includedByState" tb-test-id="top-nav-button-site-settings" class="tb-top-bar-nav-button">설정</a></span><span ng-if="server.isSessionSiteAdmin() &amp;&amp; !server.isSiteAdminSettingsEnabled() &amp;&amp; server.isThirdPartyAuthConfiguredForServer()"><a ui-sref="main.site.settings.authentication({siteUrlName: server.sessionSiteUrlName()})" ui-sref-opts="{ inherit: false }" tb-selected="'main.site.settings.**' | includedByState" tb-test-id="top-nav-button-site-settings" class="tb-top-bar-nav-button">설정</a></span></div></div></div></div><div tb-if-feature-flag="!reactTopBar" tb-button-click="toggleCollapsed()" ng-class="{ 'tb-collapsed': settings.collapsed }" class="tb-top-bar-toggle"></div></div>