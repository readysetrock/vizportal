<div class="tb-user-settings"><table class="tb-root-table"><tbody ng-if="isDomainFamilyLocal"><tr ng-if="isViewerServerAdmin || isViewerSelf"><td class="tb-label">用户名</td><td tb-test-id="tb-username-value-id" class="tb-details-value">{{ serverUser.username }}</td><td></td></tr><tr ng-if="isViewerServerAdmin || isViewerSelf"><td class="tb-label">显示名称</td><td ng-if="!updateDisplayNameAllowed" class="tb-details-value"><div>{{ serverUser.displayName }}</div></td><td ng-if="updateDisplayNameAllowed" class="tb-details-value"><tb:edit-display-name display-name="{{ serverUser.displayName }}" controls="controls.editDisplayNameControls"></tb:edit-display-name></td></tr><tr><td class="tb-label">电子邮件</td><td class="tb-details-value"><tb:edit-email email="{{ userSettings.email }}" controls="controls.editEmailControls" delay-update-email-request="{{ isSAMLUser }}"></tb:edit-email></td><td class="tb-details-button-cell"><span tb-button-click="saveChangesToEmailAndDisplayName()" tb-disabled="disableNameAndEmailSaveButton()" class="tb-outline-button"><span ng-show="controls.editDisplayNameControls.isBusy() || controls.editEmailControls.isBusy()" class="tb-icon-spinner tb-lr-padded-narrow"></span><span>保存更改</span></span></td></tr><tr><td class="tb-label"></td><td colspan="2" class="tb-details-value tb-nested-table"><tb:change-password user-id="serverUser.id" username="serverUser.username"></tb:change-password></td></tr><tr class="tb-divider"><td></td><td><div class="tb-line"></div></td><td><div class="tb-line"></div></td></tr></tbody><tbody ng-if="isDomainFamilyExternal"><tr ng-if="isViewerServerAdmin || isViewerSelf"><td class="tb-label">用户名</td><td tb-test-id="tb-username-value-id" class="tb-details-value">{{ serverUser.username }}</td><td></td></tr><tr ng-if="isViewerServerAdmin || isViewerSelf"><td class="tb-label">显示名称</td><td ng-if="!updateDisplayNameAllowed" class="tb-details-value"><div>{{ serverUser.displayName }}</div></td><td ng-if="updateDisplayNameAllowed" class="tb-details-value"><tb:edit-display-name display-name="{{ serverUser.displayName }}" controls="controls.editDisplayNameControls"></tb:edit-display-name></td></tr><tr ng-if="isSAMLUser &amp;&amp; isViewerServerAdmin"><td class="tb-label">电子邮件</td><td class="tb-details-value"><tb:edit-email email="{{ userSettings.email }}" controls="controls.editEmailControls" delay-update-email-request="{{ isSAMLUser }}"></tb:edit-email></td><td class="tb-details-button-cell"><span tb-button-click="saveChangesToEmailAndDisplayName()" tb-disabled="disableNameAndEmailSaveButton()" class="tb-outline-button"><span ng-show="controls.editDisplayNameControls.isBusy() || controls.editEmailControls.isBusy()" class="tb-icon-spinner tb-lr-padded-narrow"></span><span>保存更改</span></span></td></tr><tr ng-if="!(isSAMLUser &amp;&amp; isViewerServerAdmin)"><td class="tb-label">电子邮件</td><td tb-test-id="email" class="tb-details-value">{{ userSettings.email }}</td><td></td></tr><tr ng-if="!!changePasswordUrl &amp;&amp; !isSAMLUser"><td class="tb-label"></td><td colspan="2" class="tb-details-value tb-nested-table"><div class="tb-margin-top-wide tb-margin-left-wide"><a ng-href="{{ changePasswordUrl }}" target="_blank" tb-test-id="change-password-link">更改密码</a></div></td></tr><tr class="tb-divider"><td></td><td><div class="tb-line"></div></td><td><div class="tb-line"></div></td></tr></tbody><tbody ng-if="isDomainFamilyAD"><tr><td class="tb-label">用户名</td><td tb-test-id="tb-username-value-id" class="tb-details-value">{{ serverUser.username }}</td><td></td></tr><tr><td class="tb-label">显示名称</td><td ng-if="!updateDisplayNameAllowed" class="tb-details-value"><div>{{ serverUser.displayName }}</div></td><td ng-if="updateDisplayNameAllowed" class="tb-details-value"><tb:edit-display-name display-name="{{ serverUser.displayName }}" controls="controls.editDisplayNameControls"></tb:edit-display-name></td></tr><tr><td class="tb-label">电子邮件</td><td class="tb-details-value"><tb:edit-email email="{{ userSettings.email }}" controls="controls.editEmailControls" delay-update-email-request="{{ isSAMLUser }}"></tb:edit-email></td><td class="tb-details-button-cell"><span tb-button-click="saveChangesToEmailAndDisplayName()" tb-disabled="disableNameAndEmailSaveButton()" class="tb-outline-button"><span ng-show="controls.editDisplayNameControls.isBusy() || controls.editEmailControls.isBusy()" class="tb-icon-spinner tb-lr-padded-narrow"></span><span>保存更改</span></span></td></tr><tr class="tb-divider"><td></td><td><div class="tb-line"></div></td><td><div class="tb-line"></div></td></tr></tbody><tbody><tr ng-if="oneByOneConnectedDeviceManagement"><td class="tb-label">连接的客户端</td><td ng-if="!connectedDevices.length" class="tb-details-value">没有连接的客户端。</td><td ng-if="connectedDevices.length" colspan="2" class="tb-details-value"><div class="tb-user-settings-item-table"><table class="tb-static-grid-table tb-static-grid-table-settings-width"><tr><th class="tb-data-grid-headers-line"><span class="tb-data-grid-header-text">名称</span></th><th class="tb-data-grid-headers-line"><span class="tb-data-grid-header-text">上次连接</span></th><th class="tb-data-grid-headers-line"><span class="tb-data-grid-header-text"></span></th></tr><tr ng-repeat="device in connectedDevices"><td><div class="tb-data-grid-cell-text tb-lr-padded-wide"><span class="tb-user-settings-item-name">{{device.displayName}}</span><span ng-if="device.syncedDatasourceCount" tb-popover="'connectedDevicePopover.html'" tb-popover-class="tb-popover-wrapper-short-height" tb-popover-delay="150" class="tb-user-settings-connected-device-info-icon"></span></div></td><td><span class="tb-data-grid-cell-text tb-lr-padded-wide">{{device.lastUsed | localizedDateTime }}</span></td><td><span class="tb-data-grid-cell-text tb-lr-padded-wide"><a ng-click="deleteConnectedDevice(device, $event)" class="tb-remote-refresh-agent-action-delete">删除</a></span></td></tr></table></div></td></tr><!-- Older UI, to be deleted after the new UX has been tested (TFS 419851)--><tr ng-if="!oneByOneConnectedDeviceManagement"><td class="tb-label">连接的客户端</td><td class="tb-details-value"></td><td class="tb-details-button-cell tb-clear-connected-devices-button"><span tb-button-click="clearConnectedDevices()" class="tb-outline-button">清除所有连接的客户端…</span></td></tr><tr class="tb-divider"><td></td><td><div class="tb-line"></div></td><td><div class="tb-line"></div></td></tr><tr><td class="tb-label">开始页面</td><td class="tb-details-value"><a ng-href="#{{startPageHref}}">{{ startPageText }}</a></td><td class="tb-details-button-cell"><tb:reset-start-page user-settings="userSettings" server-user="serverUser"></tb:reset-start-page></td></tr><tr ng-show="isViewerSelf"><td></td><td class="tb-details-value"><div class="tb-reset-start-page-help">要更改开始页面，请导航到某个页面，然后从页面右上角的下拉菜单中选择“将此页作为我的开始页面”。</div></td></tr><tr class="tb-divider"><td></td><td><div class="tb-line"></div></td><td><div class="tb-line"></div></td></tr><tr><td class="tb-nested-table"><div class="tb-label tb-label-multiline">语言</div><div class="tb-label tb-label-multiline">区域设置</div></td><td class="tb-nested-table"><tb:edit-language-and-locale controls="editLangAndLocaleCtrls" server-user="serverUser" language="userSettings.language" locale="userSettings.locale" class="tb-edit-language-and-locale"></tb:edit-language-and-locale></td><td class="tb-details-button-cell"><span tb-button-click="editLangAndLocaleCtrls.save()" tb-disabled="!editLangAndLocaleCtrls.canSave()" class="tb-outline-button"><span ng-show="editLangAndLocaleCtrls.isBusy()" class="tb-icon-spinner tb-lr-padded-narrow"></span><span>保存更改</span></span></td></tr></tbody></table></div>