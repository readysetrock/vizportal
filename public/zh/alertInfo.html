<div tb-visible="!!alert" class="tb-alert-item tb-no-bottom-margin"><span class="tb-alert-affected-workbooks">{{ workbooksAffectedString(alert.workbooks) }}</span><table class="tb-alert-table"><tr><td class="tb-alert-table-title">数据源:</td><td ng-if="alert.datasource"><a tb-button-click="close()" ui-sref="main.site.content.datasource.details({ id: alert.datasource.id })">{{ alert.datasource.name }}</a></td><td ng-if="!alert.datasource">嵌入式</td></tr><tr><td ng-if="!alert.suspended" class="tb-alert-table-title">故障:</td><td ng-if="alert.suspended" class="tb-alert-table-title">已挂起:</td><td>{{ getFailureType(alert.statusCode) }}</td></tr><tr><td class="tb-alert-table-title">刷新失败:</td><td ng-if="alert.mostRecentFailureAt">{{ alert.mostRecentFailureAt | localizedDateTime }}</td><td ng-if="!alert.mostRecentFailureAt">从不</td></tr><tr><td class="tb-alert-table-title">上次刷新时间:</td><td ng-if="alert.lastSuccessAt">{{ alert.lastSuccessAt | localizedDateTime }}</td><td ng-if="!alert.lastSuccessAt">从不</td></tr><tr ng-if="!isRemoteRefresh(alert.statusCode)"><td colspan="2"><a ng-show="!tryAgain" tb-button-click="tryAgainClick(alert.taskId);tryAgain=true" class="tb-alert-item-refresh tb-alert-menu-action-button">重试</a><span ng-show="tryAgain" class="tb-alert-item-refresh-clicked">已请求刷新任务</span></td></tr><tr ng-if="editableFailure(alert.statusCode)"><td colspan="2"><a ng-if="editableFailure(alert.statusCode) &amp;&amp; !!alert.datasource" ui-sref="main.site.content.datasource.dataConnection({id: alert.datasource.id})" class="tb-alert-item-edit-connection tb-alert-menu-action-button">连接详细信息</a><a ng-if="editableFailure(alert.statusCode) &amp;&amp; !alert.datasource &amp;&amp; alert.workbooks.length &gt; 0" ui-sref="main.site.content.workbook.datasources({id: alert.workbooks[0].id})" class="tb-alert-item-edit-connection tb-alert-menu-action-button">连接详细信息</a></td></tr></table></div>