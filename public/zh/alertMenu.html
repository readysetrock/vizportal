<span class="tb-alert-menu-button"><tb:popup-menu direction="dl" opened="getAlertList()"><tb:popup-menu-text-button class="tb-light"><span class="tb-box"><span class="tb-icon-alert-menu"></span><span ng-if="totalAlerts &gt; 0" class="tb-alert-menu-count tb-text">{{ totalAlerts | localizedCount }}</span></span></tb:popup-menu-text-button><tb:popup-menu-content><div class="tb-alert-menu"><div ng-if="totalAlerts === 0" class="tb-alert-menu-no-matching-results">没有警报</div><div ng-if="totalAlerts &gt; 0"><div ng-repeat="item in alertList" ng-class="{ 'tb-no-bottom-margin': $last }" class="tb-alert-item"><span class="tb-alert-affected-workbooks">{{ workbooksAffectedString(item.workbooks) }}</span><table class="tb-alert-table"><tr><td class="tb-alert-table-title">数据源:</td><td ng-if="item.datasource"><a tb-button-click="popupMenu.close()" ui-sref="main.site.content.datasource.details({ id: item.datasource.id })">{{item.datasource.name}}</a></td><td ng-if="!item.datasource">嵌入式</td></tr><tr><td ng-if="!item.suspended" class="tb-alert-table-title">故障:</td><td ng-if="item.suspended" class="tb-alert-table-title">已挂起:</td><td>{{ getFailureType(item) }}</td></tr><tr><td class="tb-alert-table-title">刷新失败:</td><td ng-if="item.mostRecentFailureAt">{{ item.mostRecentFailureAt | localizedDateTime }}</td><td ng-if="!item.mostRecentFailureAt">从不</td></tr><tr><td class="tb-alert-table-title">上次刷新时间:</td><td ng-if="item.lastSuccessAt">{{ item.lastSuccessAt | localizedDateTime }}</td><td ng-if="!item.lastSuccessAt">从不</td></tr><tr ng-if="!isRemoteRefresh(item.statusCode)"><td colspan="2"><a tb-button-click="tryAgainClick(item, $index);" class="tb-alert-item-refresh tb-alert-menu-action-button">重试</a></td></tr><tr ng-if="editableFailure(item.statusCode)"><td colspan="2"><a ng-if="editableFailure(item.statusCode) &amp;&amp; !!item.datasource" ui-sref="main.site.content.datasource.dataConnection({id: item.datasource.id})" class="tb-alert-item-edit-connection tb-alert-menu-action-button">连接详细信息</a><a ng-if="editableFailure(item.statusCode) &amp;&amp; !item.datasource &amp;&amp; item.workbooks.length &gt; 0" ui-sref="main.site.content.workbook.datasources({id: item.workbooks[0].id})" class="tb-alert-item-edit-connection tb-alert-menu-action-button">连接详细信息</a></td></tr></table></div><span ng-if="totalAlerts &gt; alertList.length" class="tb-alert-remaining-alert-note">{{showRemainingAlerts}}</span></div></div></tb:popup-menu-content></tb:popup-menu></span>