<div class="tb-place-banner"><div class="tb-breadcrumbs"><span class="tb-breadcrumb"><a ng-href="{{ contentBreadcrumbUrl() }}" tb-test-id="projects-link"><span tb-if-feature-flag="homePlaceEnabled">所有内容</span><span tb-if-feature-flag="!homePlaceEnabled">主页</span></a></span><span class="tb-breadcrumb-divider">&#8250;</span><span title="{{ workbook.project.name }}" class="tb-breadcrumb tb-max-third tb-link-project"><a ng-href="{{ projectBreadcrumbUrl() }}" tb-test-id="project-link">{{ workbook.project.name }}</a></span><span class="tb-breadcrumb-divider">&#8250;</span><span class="tb-breadcrumb-icon tb-link-workbook"></span><span title="{{ workbook.name }}" class="tb-breadcrumb tb-last">{{ workbook.name }}</span></div><div class="tb-place-information"><span tb-if-feature-flag="!useUpdatedFontStyles" class="tb-place-type"><div class="tb-place-type-icon tb-place-type-icon-workbook"></div><div class="tb-place-type-text">工作簿</div></span><div class="tb-place-name-and-description"><div class="tb-place-name-line"><div tb-if-feature-flag="useUpdatedFontStyles" class="tb-place-type-icon tb-place-type-icon-workbook"></div><div tb-test-id="place-name" title="{{ workbook.name }}" class="tb-place-name tb-workbook-place-name tb-enable-selection">{{ workbook.name }}</div><tb:favorite-toggle ng-model="workbook.favorite" on-add="addFavorite()" on-remove="removeFavorite()" tb-test-id="workbook-favorite-toggle" class="tb-place-favorite"></tb:favorite-toggle><a ng-if="!!workbook.editUrl &amp;&amp; allowedAction('launchWebAuthoring')" ng-href="{{workbook.editUrl}}" tabindex="0" tb-button-click="editWorkbook($event)" tb-enter="editWorkbook($event)" tb-test-id="action-edit-workbook-detail" class="tb-text-button tb-dark tb-edit-workbook-icon tb-margin-left-xlarge">编辑工作簿</a><a ng-if="!!workbook.downloadUrl &amp;&amp; allowedAction('download')" ng-href="{{workbook.downloadUrl}}" tabindex="0" tb-button-click="download($event)" tb-enter="download($event)" tb-test-id="action-download-detail" class="tb-text-button tb-dark tb-download-icon tb-margin-left-wide">下载</a><a tb-if-feature-flag="workbookVersionHistoryEnabled" tabindex="0" tb-button-click="showRevisionHistory()" tb-enter="showRevisionHistory()" class="tb-text-button tb-revision-history-icon tb-dark tb-margin-left-wide">历史记录</a></div><div class="tb-place-description-line"><span tb-if-feature-flag="useUpdatedFontStyles" class="tb-place-type-text">工作簿<span class="tb-place-description-line-separator">&bull;</span></span><span class="tb-place-description-line-owner">通过 <a ui-sref="main.site.user.workbooks({ username: workbook.owner.username, domainName: workbook.owner.domainName })">{{ workbook.owner.displayName }}</a></span><span ng-if="workbook.description" class="tb-place-description-line-separator">&bull;</span><tb:place-description type="workbook" id="workbook.id" description="workbook.description" class="tb-box"></tb:place-description></div></div></div><div class="tb-subplace-tabs tb-small"><a tb-state-href="^.views" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.views.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.views.**' | includedByState" tb-button-click="subplaceTabClicked('views')" tb-test-id="subplace-tab-button-views" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">视图</span><span tb-test-id="subplace-tab-count" class="tb-count">{{ subplaceCounts.views | localizedCount }} &nbsp;</span></a><a tb-state-href="^.datasources" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.datasources.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.datasources.**' | includedByState" tb-button-click="subplaceTabClicked('datasources')" tb-test-id="subplace-tab-button-datasources" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">数据源</span><span tb-test-id="subplace-tab-count" class="tb-count">{{ subplaceCounts.datasources | localizedCount }} &nbsp;</span></a><span ng-show="workbook.hasExtracts"><a tb-state-href="^.extractTasks" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.extractTasks.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.extractTasks.**' | includedByState" tb-button-click="subplaceTabClicked('extractTasks')" tb-test-id="subplace-tab-button-extractTasks" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">刷新计划</span><span tb-test-id="subplace-tab-count" class="tb-count">{{ subplaceCounts.extractTasks | localizedCount }} &nbsp;</span></a></span><a tb-state-href="^.subscriptions" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.subscriptions.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.subscriptions.**' | includedByState" tb-button-click="subplaceTabClicked('subscriptions')" tb-test-id="subplace-tab-button-subscriptions" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">订阅</span><span tb-test-id="subplace-tab-count" class="tb-count">{{ subplaceCounts.subscriptions | localizedCount }} &nbsp;</span></a><span ng-if="allowedAction('setPermissions')"><a tb-state-href="^.permissions" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.permissions.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.permissions.**' | includedByState" tb-button-click="subplaceTabClicked('permissions')" tb-test-id="subplace-tab-button-permissions" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">权限</span><span tb-if-feature-flag="!useUpdatedFontStyles" class="tb-count">&nbsp;</span></a></span><a tb-state-href="^.details" tb-state-href-config="{ keepSearch: true, omitParams: ({{ '**.details.**' | includedByState }} ? [] : ['order']) }" tb-selected="'**.details.**' | includedByState" tb-button-click="subplaceTabClicked('details')" tb-test-id="subplace-tab-button-details" class="tb-subplace-tab-button"><span tb-test-id="subplace-tab-label" class="tb-label">详细信息</span><span tb-if-feature-flag="!useUpdatedFontStyles" class="tb-count">&nbsp;</span></a></div></div><div ui-view="" class="tb-subplace"></div>