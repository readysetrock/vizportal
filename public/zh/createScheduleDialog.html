<ng:form name="createScheduleForm" ng-controller="CreateOrEditScheduleCtrl" class="tb-create-schedule-form"><div class="tb-create-schedule-form-subtitle"><span ng-if="scheduleViewModel.id" class="tb-create-schedule-form-subtitle-name">{{ scheduleViewModel.name }}<span class="tb-create-schedule-form-subtitle-divider">&bull;</span>{{ scheduleViewModel.scheduledAction | scheduleActionName }}</span><span ng-if="!scheduleViewModel.id">创建可供用户选择以便运行数据提取刷新或订阅的计划。</span></div><div ng-if="!scheduleViewModel.id" class="tb-settings-group"><label class="tb-form-label tb-form-label-wide">名称</label><div class="tb-form-value tb-input-wide"><tb:text-box tb-text-box-model="scheduleViewModel.name" tb-text-box-required="true" tb-text-box-focus="true" tb-text-box-max-length="255" tb-test-id="textbox-schedule-name"></tb:text-box></div></div><div ng-if="!scheduleViewModel.id" class="tb-settings-group"><label class="tb-form-label tb-form-label-wide">任务类型</label><div class="tb-form-value"><tb:select match-button-width="true" ng-model="scheduleViewModel.scheduledAction" tb-test-id="task-type" class="tb-create-schedule-task-type"><tb:select-option ng-repeat="action in scheduleActions" value="action">{{ action | scheduleActionName }}</tb:select-option></tb:select></div></div><div class="tb-settings-group tb-create-schedule-form-priority"><label class="tb-form-label tb-form-label-wide">默认优先级</label><div class="tb-form-value"><div class="tb-create-schedule-form-priority"><tb:number-box tb-text-box-model="scheduleViewModel.priority" tb-text-box-required="true" tb-text-box-validation="tb-range-input-validator tb-integer-input-validator" tb-text-box-validation-min="1" tb-text-box-validation-max="100" tb-test-id="textbox-schedule-priority"></tb:number-box><div>任务按从 1 到 100 的优先级顺序执行</div></div></div></div><div class="tb-settings-group tb-create-schedule-form-serialization"><label class="tb-form-label tb-form-label-wide tb-form-label-tall">执行</label><div class="tb-form-value"><div class="tb-create-schedule-form-serialization"><tb:radio-button-group><tb:radio-button ng-model="scheduleViewModel.parallel" tb-value="true" tb-test-id="parallel"></tb:radio-button><tb:radio-button-label>并行: 为此计划使用所有可用后台进程</tb:radio-button-label></tb:radio-button-group><tb:radio-button-group class="tb-margin-top-small"><tb:radio-button ng-model="scheduleViewModel.parallel" tb-value="false" tb-test-id="serial"></tb:radio-button><tb:radio-button-label>串行: 将此计划限制为使用一个后台进程</tb:radio-button-label></tb:radio-button-group></div></div></div><div class="tb-settings-group tb-create-schedule-form-frequency"><label class="tb-form-label tb-form-label-wide tb-form-label-tall">频率</label><div class="tb-create-schedule-form-type"><tb:radio-button-group><tb:radio-button tb-value="'Hourly'" ng-model="scheduleViewModel.scheduleType" tb-test-id="hourly"></tb:radio-button><tb:radio-button-label>每小时</tb:radio-button-label></tb:radio-button-group><tb:radio-button-group class="tb-margin-top-small"><tb:radio-button tb-value="'Daily'" ng-model="scheduleViewModel.scheduleType" tb-test-id="daily"></tb:radio-button><tb:radio-button-label>每天</tb:radio-button-label></tb:radio-button-group><tb:radio-button-group class="tb-margin-top-small"><tb:radio-button tb-value="'Weekly'" ng-model="scheduleViewModel.scheduleType" tb-test-id="weekly"></tb:radio-button><tb:radio-button-label>每周</tb:radio-button-label></tb:radio-button-group><tb:radio-button-group class="tb-margin-top-small"><tb:radio-button tb-value="'Monthly'" ng-model="scheduleViewModel.scheduleType" tb-test-id="monthly"></tb:radio-button><tb:radio-button-label>每月</tb:radio-button-label></tb:radio-button-group></div><div ng-switch="scheduleViewModel.scheduleType" class="tb-create-schedule-form-details"><table ng-switch-when="Hourly" class="tb-create-schedule-form-hourly"><tr class="tb-settings-group"><td class="tb-form-label-cell"><label class="tb-form-label">每</label>&nbsp;</td><td><tb:select tb-test-id="hourly-frequency" ng-model="scheduleViewModel.hourly.recurrenceMinutes" class="tb-inline"><tb:select-option ng-repeat="frequency in hourlyFrequencies" value="frequency.value">{{ frequency.label }}</tb:select-option></tb:select></td></tr><tr class="tb-settings-group"><td class="tb-form-label-cell"><label class="tb-form-label">从</label>&nbsp;</td><td><tb:time-picker tb-test-id="hourly-from" ng-model="scheduleViewModel.hourly.startTime"></tb:time-picker></td></tr><tr class="tb-settings-group"><td class="tb-form-label-cell"><label class="tb-form-label">到</label>&nbsp;</td><td><tb:time-picker tb-test-id="hourly-to" ng-model="scheduleViewModel.hourly.endTime"></tb:time-picker></td></tr></table><div ng-switch-when="Daily"><span class="tb-row-height-box">时间&nbsp;<tb:time-picker tb-test-id="daily-at" ng-model="scheduleViewModel.daily.startTime"></tb:time-picker></span></div><div ng-switch-when="Weekly" class="tb-create-schedule-form-weekly"><div class="tb-create-schedule-form-weekly-days"><tb:days-picker ng-model="scheduleViewModel.weekly.recurrenceDaysOfWeek"></tb:days-picker></div><div class="tb-create-schedule-form-weekly-start-time tb-row-height-box">时间&nbsp;<tb:time-picker tb-test-id="weekly-at" ng-model="scheduleViewModel.weekly.startTime"></tb:time-picker></div></div><div ng-switch-when="Monthly"><div class="tb-settings-group"><span class="tb-row-height-box">于一个月中的&nbsp;<tb:select ng-model="scheduleViewModel.monthly.recurrenceDayOfMonth" tb-select-content-class="tb-create-schedule-form-monthly-day-menu" tb-test-id="monthly-on" class="tb-inline"><tb:select-option ng-repeat="day in daysOfMonth" value="day.value">{{ day.label }}</tb:select-option></tb:select>&nbsp;<span class="tb-row-height-box">天</span></span></div><div class="tb-settings-group"><span class="tb-row-height-box">时间</span>&nbsp;<tb:time-picker tb-test-id="monthly-at" ng-model="scheduleViewModel.monthly.startTime"></tb:time-picker></div></div></div></div></ng:form>