<div ng-if="!haveCurrentAuthorizable()" ng-switch="authorizableType" tb-test-id="permissions-panel-need-selection-message" class="tb-action-panel-placeholder-msg"><div ng-switch-when="project">Seleccione un proyecto para ver y modificar sus permisos.</div><div ng-switch-when="workbook">Seleccione un libro de trabajo para ver y modificar sus permisos.</div><div ng-switch-when="view">Seleccione una vista para ver y modificar sus permisos.</div><div ng-switch-when="datasource">Seleccione una fuente de datos para ver y modificar sus permisos.</div></div><div ng-if="haveCurrentAuthorizable()" ng-class="{ 'tb-editable': editability.editable }" class="tb-permissions-container tb-permissions-templates"><div class="tb-permissions-top"><div class="tb-permissions-panel-header"><div class="tb-relative"><span tb-test-id="permissions-search-panel" class="tb-effective-permissions-search-box tb-search-panel"><div class="tb-search-box"><tb:text-box tb-text-box-model="searchText" tb-text-box-enter="submitSearch(searchText, $event)" ng-keyup="_.debounce(submitSearch(searchText), 200)" tb-text-box-clearable="true" tb-text-box-clear="submitSearch('')" tb-text-box-placeholder="'Buscar un usuario para ver sus permisos'"></tb:text-box></div><a tb-button-click="submitSearch(searchText)" class="tb-search-button">Buscar</a></span><div class="tb-permissions-action-right"><span ng-if="editability.editable"><tb:assign-permissions-to-contents authorizable-type="authorizableType" authorizables="authorizables"></tb:assign-permissions-to-contents></span><span ng-if="projectControlledPermissionsEnabled"><tb:lock-unlock-project-permissions authorizable-type="authorizableType" authorizables="authorizables" editable="editability.editable" editability-short-message="editability.shortMessage" editability-long-message="editability.longMessage" lock-state="permissionsLockStatusProps.lockState"></tb:lock-unlock-project-permissions></span></div></div></div><div class="tb-explicit-permissions-container"><tb:template-list templates="explicitPermissionHeaders"><tb:template><span class="tb-data-grid-header-text tb-padded-left-large tb-padded-right">Usuario o grupo</span></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(0, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(0, columnWidths.getPreferred(0))" class="tb-section-group-divider"></div></div></tb:template><tb:template><div class="tb-permissions-role-column tb-full-height"><span ng-class="{'tb-permissions-section-toggle-area': sectionGroupAccordion.isEnabled()}" data-tb-test-id="section-group-open-clickable" tb-button-click="sectionGroupAccordion.toggleSection(0)" class="tb-permissions-role-column-text"><span class="tb-permissions-section-content-type-icon tb-workbook"></span><span class="tb-data-grid-header-text tb-permissions-content-type-name">Permisos</span><span ng-show="sectionGroupAccordion.isEnabled() &amp;&amp; !sectionGroupAccordion.isSectionOpen(0)" class="tb-section-toggle-icon tb-section-open-icon"></span></span></div></tb:template><tb:template><div ng-show="sectionGroupAccordion.isSectionOpen(0)" ng-class="{'tb-short-header-text':shortHeaderText()}" tb-button-click="headerTextAccordion.toggleSection(0)" data-tb-test-id="header-text-visibility-toggle-clickable" style="width:150px;" class="tb-permissions-section-header-block tb-full-height tb-permissions-section-header-block-left"><div class="tb-permissions-section-header tb-data-grid-header-text">Ver</div><div ng-class="{'tb-permissions-show-header-text': headerTextAccordion.isSectionOpen(0)}" class="tb-permissions-capability-headers-container"><div data-tb-test-id="capability-header-workbook-read" class="tb-permissions-capability-header tb-permissions-section-left tb-permissions-section-first"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Ver</span></div></div><div data-tb-test-id="capability-header-workbook-export_image" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Descargar imagen/PDF</span></div></div><div data-tb-test-id="capability-header-workbook-export_data" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Descargar datos de resumen</span></div></div><div data-tb-test-id="capability-header-workbook-view_comments" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Ver comentarios</span></div></div><div data-tb-test-id="capability-header-workbook-add_comment" class="tb-permissions-capability-header tb-permissions-section-right"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Agregar comentarios</span></div></div></div><div class="tb-permissions-capability-header-icons-container"><div data-tb-test-id="capability-icon-workbook-read" data-capability-name="workbook-read" class="tb-permissions-capability-header-icon-cell tb-permissions-section-left tb-permissions-section-first"><div tb-selected="isRelevantHeader('workbook-read')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Ver" class="tb-permissions-capability-icon tb-permissions-capability-icon-read"></span></div></div><div data-tb-test-id="capability-icon-workbook-export_image" data-capability-name="workbook-export_image" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-export_image')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Descargar imagen/PDF" class="tb-permissions-capability-icon tb-permissions-capability-icon-export_image"></span></div></div><div data-tb-test-id="capability-icon-workbook-export_data" data-capability-name="workbook-export_data" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-export_data')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Descargar datos de resumen" class="tb-permissions-capability-icon tb-permissions-capability-icon-export_data"></span></div></div><div data-tb-test-id="capability-icon-workbook-view_comments" data-capability-name="workbook-view_comments" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-view_comments')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Ver comentarios" class="tb-permissions-capability-icon tb-permissions-capability-icon-view_comments"></span></div></div><div data-tb-test-id="capability-icon-workbook-add_comment" data-capability-name="workbook-add_comment" class="tb-permissions-capability-header-icon-cell tb-permissions-section-right"><div tb-selected="isRelevantHeader('workbook-add_comment')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Agregar comentarios" class="tb-permissions-capability-icon tb-permissions-capability-icon-add_comment"></span></div></div></div></div></tb:template><tb:template><div ng-show="sectionGroupAccordion.isSectionOpen(0)" ng-class="{'tb-short-header-text':shortHeaderText()}" tb-button-click="headerTextAccordion.toggleSection(0)" data-tb-test-id="header-text-visibility-toggle-clickable" style="width:120px;" class="tb-permissions-section-header-block tb-full-height"><div class="tb-permissions-section-header tb-data-grid-header-text">Interactuar</div><div ng-class="{'tb-permissions-show-header-text': headerTextAccordion.isSectionOpen(0)}" class="tb-permissions-capability-headers-container"><div data-tb-test-id="capability-header-workbook-filter" class="tb-permissions-capability-header tb-permissions-section-left"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Filtrar</span></div></div><div data-tb-test-id="capability-header-workbook-vud" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Descargar datos completos</span></div></div><div data-tb-test-id="capability-header-workbook-share_view" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Recurso compartido personalizado</span></div></div><div data-tb-test-id="capability-header-workbook-web_authoring" class="tb-permissions-capability-header tb-permissions-section-right"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Edici√≥n web</span></div></div></div><div class="tb-permissions-capability-header-icons-container"><div data-tb-test-id="capability-icon-workbook-filter" data-capability-name="workbook-filter" class="tb-permissions-capability-header-icon-cell tb-permissions-section-left"><div tb-selected="isRelevantHeader('workbook-filter')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Filtrar" class="tb-permissions-capability-icon tb-permissions-capability-icon-filter"></span></div></div><div data-tb-test-id="capability-icon-workbook-vud" data-capability-name="workbook-vud" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-vud')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Descargar datos completos" class="tb-permissions-capability-icon tb-permissions-capability-icon-vud"></span></div></div><div data-tb-test-id="capability-icon-workbook-share_view" data-capability-name="workbook-share_view" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-share_view')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Recurso compartido personalizado" class="tb-permissions-capability-icon tb-permissions-capability-icon-share_view"></span></div></div><div data-tb-test-id="capability-icon-workbook-web_authoring" data-capability-name="workbook-web_authoring" class="tb-permissions-capability-header-icon-cell tb-permissions-section-right"><div tb-selected="isRelevantHeader('workbook-web_authoring')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Edici√≥n web" class="tb-permissions-capability-icon tb-permissions-capability-icon-web_authoring"></span></div></div></div></div></tb:template><tb:template><span ng-show="sectionGroupAccordion.isEnabled() &amp;&amp; sectionGroupAccordion.isSectionOpen(0)" tb-button-click="sectionGroupAccordion.toggleSection(0)" data-tb-test-id="section-group-close-clickable" class="tb-section-toggle-icon tb-section-close-icon"></span><div ng-show="sectionGroupAccordion.isSectionOpen(0)" ng-class="{'tb-short-header-text':shortHeaderText()}" tb-button-click="headerTextAccordion.toggleSection(0)" data-tb-test-id="header-text-visibility-toggle-clickable" style="width:150px;" class="tb-permissions-section-header-block tb-full-height"><div class="tb-permissions-section-header tb-data-grid-header-text">Editar</div><div ng-class="{'tb-permissions-show-header-text': headerTextAccordion.isSectionOpen(0)}" class="tb-permissions-capability-headers-container"><div data-tb-test-id="capability-header-workbook-write" class="tb-permissions-capability-header tb-permissions-section-left"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Guardar</span></div></div><div data-tb-test-id="capability-header-workbook-export_xml" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Descargar libro de trabajo/guardar como</span></div></div><div data-tb-test-id="capability-header-workbook-change_hierarchy" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Mover</span></div></div><div data-tb-test-id="capability-header-workbook-delete" class="tb-permissions-capability-header"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Eliminar</span></div></div><div data-tb-test-id="capability-header-workbook-change_permissions" class="tb-permissions-capability-header tb-permissions-section-right"><div class="tb-permissions-capability-header-background tb-permissions-capability-header-text-background"><span class="tb-permissions-capability-header-text">Configurar permisos</span></div></div></div><div class="tb-permissions-capability-header-icons-container"><div data-tb-test-id="capability-icon-workbook-write" data-capability-name="workbook-write" class="tb-permissions-capability-header-icon-cell tb-permissions-section-left"><div tb-selected="isRelevantHeader('workbook-write')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Guardar" class="tb-permissions-capability-icon tb-permissions-capability-icon-write"></span></div></div><div data-tb-test-id="capability-icon-workbook-export_xml" data-capability-name="workbook-export_xml" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-export_xml')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Descargar libro de trabajo/guardar como" class="tb-permissions-capability-icon tb-permissions-capability-icon-export_xml_workbook"></span></div></div><div data-tb-test-id="capability-icon-workbook-change_hierarchy" data-capability-name="workbook-change_hierarchy" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-change_hierarchy')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Mover" class="tb-permissions-capability-icon tb-permissions-capability-icon-change_hierarchy"></span></div></div><div data-tb-test-id="capability-icon-workbook-delete" data-capability-name="workbook-delete" class="tb-permissions-capability-header-icon-cell"><div tb-selected="isRelevantHeader('workbook-delete')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Eliminar" class="tb-permissions-capability-icon tb-permissions-capability-icon-delete"></span></div></div><div data-tb-test-id="capability-icon-workbook-change_permissions" data-capability-name="workbook-change_permissions" class="tb-permissions-capability-header-icon-cell tb-permissions-section-right"><div tb-selected="isRelevantHeader('workbook-change_permissions')" class="tb-permissions-capability-header-background tb-permissions-capability-header-icon-background"><span data-tooltip="Configurar permisos" class="tb-permissions-capability-icon tb-permissions-capability-icon-change_permissions"></span></div></div></div></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(2, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(2, columnWidths.getPreferred(2))" class="tb-section-group-divider"></div></div></tb:template></tb:template-list><tb:template-list templates="explicitPermissionCells"><tb:template><div ng-class="{ 'tb-selected': isCurrentExplicitPermission(row),'tb-relevant-permission': isRelevantExplicitPermission(row),'tb-not-relevant-permission': isNotRelevantExplicitPermission(row) }" data-tb-test-id="explicit-grantee-name" class="tb-explicit-cell-background tb-explicit-grantee-name"><span class="tb-grantee-type-icon tb-grantee-type-icon-{{granteeType(row)}}"></span><span class="tb-explicit-permission-name">{{granteeName(row)}}</span></div><div ng-if="editability.editable" ng-class="{ 'tb-not-relevant-permission': isNotRelevantExplicitPermission(row) }" class="tb-permission-rule-action-menu"><tb:popup-menu opened="setCurrentExplicitPermission(row)"><tb:popup-menu-custom-button class="tb-data-grid-action-menu"><span class="tb-action-icon tb-prevent-data-grid-events"></span></tb:popup-menu-custom-button><tb:popup-menu-content><div tb-button-click="popupMenu.close()"><div ng-repeat="action in menuActions" data-tb-test-id="permission-rule-action-{{action.name}}" tb-button-click="action.execute(row)" tb-disabled="!!action.isDisabled(row)" translate="{{action.translate || action.name}}" class="tb-popup-menu-item"></div></div></tb:popup-menu-content></tb:popup-menu></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(0, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(0, columnWidths.getPreferred(0))" class="tb-section-group-divider"></div></div></tb:template><tb:template><div ng-class="{ 'tb-selected': isCurrentExplicitPermission(row),'tb-relevant-permission': isRelevantExplicitPermission(row),'tb-not-relevant-permission': isNotRelevantExplicitPermission(row) }" data-tb-test-id="explicit-role-value-workbook" class="tb-explicit-cell-background"><span class="tb-permissions-role-column-text">{{explicitGranteeRole(row, 'workbook') | translate }}</span></div></tb:template><tb:template><div ng-class=" {'tb-selected': isCurrentExplicitPermission(row), 'tb-hover': isHoveredExplicitPermission(row) } " ng-show="sectionGroupAccordion.isSectionOpen(0)" data-tb-test-id="tb-accordion-section" class="tb-capability-value-group"><div data-tb-test-id="explicit-capability-value-workbook-read" data-capability-name="workbook-read" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-permissions-section-first tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'read', 'workbook-read')}}"><span data-tooltip="Ver: {{capabilityTitleKey(row, 'workbook', 'read', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'read', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-export_image" data-capability-name="workbook-export_image" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'export_image', 'workbook-export_image')}}"><span data-tooltip="Descargar imagen/PDF: {{capabilityTitleKey(row, 'workbook', 'export_image', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_image', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-export_data" data-capability-name="workbook-export_data" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'export_data', 'workbook-export_data')}}"><span data-tooltip="Descargar datos de resumen: {{capabilityTitleKey(row, 'workbook', 'export_data', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_data', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-view_comments" data-capability-name="workbook-view_comments" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'view_comments', 'workbook-view_comments')}}"><span data-tooltip="Ver comentarios: {{capabilityTitleKey(row, 'workbook', 'view_comments', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'view_comments', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-add_comment" data-capability-name="workbook-add_comment" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'add_comment', 'workbook-add_comment')}}"><span data-tooltip="Agregar comentarios: {{capabilityTitleKey(row, 'workbook', 'add_comment', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'add_comment', 'unspecified')}}"></span></div></div></tb:template><tb:template><div ng-class=" {'tb-selected': isCurrentExplicitPermission(row), 'tb-hover': isHoveredExplicitPermission(row) } " ng-show="sectionGroupAccordion.isSectionOpen(0)" data-tb-test-id="tb-accordion-section" class="tb-capability-value-group"><div data-tb-test-id="explicit-capability-value-workbook-filter" data-capability-name="workbook-filter" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'filter', 'workbook-filter')}}"><span data-tooltip="Filtrar: {{capabilityTitleKey(row, 'workbook', 'filter', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'filter', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-vud" data-capability-name="workbook-vud" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'vud', 'workbook-vud')}}"><span data-tooltip="Descargar datos completos: {{capabilityTitleKey(row, 'workbook', 'vud', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'vud', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-share_view" data-capability-name="workbook-share_view" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'share_view', 'workbook-share_view')}}"><span data-tooltip="Recurso compartido personalizado: {{capabilityTitleKey(row, 'workbook', 'share_view', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'share_view', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-web_authoring" data-capability-name="workbook-web_authoring" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'web_authoring', 'workbook-web_authoring')}}"><span data-tooltip="Edici√≥n web: {{capabilityTitleKey(row, 'workbook', 'web_authoring', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'web_authoring', 'unspecified')}}"></span></div></div></tb:template><tb:template><div ng-class=" {'tb-selected': isCurrentExplicitPermission(row), 'tb-hover': isHoveredExplicitPermission(row) } " ng-show="sectionGroupAccordion.isSectionOpen(0)" data-tb-test-id="tb-accordion-section" class="tb-capability-value-group"><div data-tb-test-id="explicit-capability-value-workbook-write" data-capability-name="workbook-write" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'write', 'workbook-write')}}"><span data-tooltip="Guardar: {{capabilityTitleKey(row, 'workbook', 'write', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'write', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-export_xml" data-capability-name="workbook-export_xml" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'export_xml', 'workbook-export_xml')}}"><span data-tooltip="Descargar libro de trabajo/guardar como: {{capabilityTitleKey(row, 'workbook', 'export_xml', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_xml', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-change_hierarchy" data-capability-name="workbook-change_hierarchy" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'change_hierarchy', 'workbook-change_hierarchy')}}"><span data-tooltip="Mover: {{capabilityTitleKey(row, 'workbook', 'change_hierarchy', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'change_hierarchy', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-delete" data-capability-name="workbook-delete" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'delete', 'workbook-delete')}}"><span data-tooltip="Eliminar: {{capabilityTitleKey(row, 'workbook', 'delete', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'delete', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-workbook-change_permissions" data-capability-name="workbook-change_permissions" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right tb-relevant-capability-{{relevantCapabilityClass(row, 'workbook', 'change_permissions', 'workbook-change_permissions')}}"><span data-tooltip="Configurar permisos: {{capabilityTitleKey(row, 'workbook', 'change_permissions', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'change_permissions', 'unspecified')}}"></span></div></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(2, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(2, columnWidths.getPreferred(2))" class="tb-section-group-divider"></div></div></tb:template></tb:template-list><div class="tb-data-grid tb-fill tb-explicit-permissions-data-grid"><tb:permission-rule-editor ng-if="permissionRuleEditorParams.show" action="permissionRuleEditorParams.action" update-authorizables="refresh()" hide-row-menu="hideRowMenu()" column-widths="columnWidths" authorizables="currentAuthorizables" get-position-element="getSelectedRowElement" row="currentExplicitPermission" accordion="sectionGroupAccordion"></tb:permission-rule-editor><div tb-visible="columnWidths.hasPreferredWidths()" tb-tooltip-area="getHeaderTooltipText($event)" tb-child-selector=".tb-permissions-capability-header-icon-cell" tb-child-mouseenter-touchstart="setHoveredCapabilityValue(child)" tb-child-mouseleave-touchmove="clearHoveredCapabilityValue()" ng-class="{'tb-short-header-text':shortHeaderText(),'tb-permissions-show-header-text': headerTextAccordion.isSectionOpen(0)}" class="tb-explicit-permissions-headers-line"><tb:data-grid-headers column-widths="columnWidths" headers="explicitPermissionHeaders"></tb:data-grid-headers></div><div tb-tooltip-area="getTooltipText($event)" ng-class="{'tb-short-header-text':shortHeaderText(),'tb-permissions-show-header-text': headerTextAccordion.isSectionOpen(0)}" tb-child-mouseenter-touchstart="setHoveredCapabilityValue(child)" tb-child-mouseleave-touchmove="clearHoveredCapabilityValue()" tb-child-selector=".tb-capability-value-cell" class="tb-explicit-permissions-body"><tb:data-grid-body cells="explicitPermissionCells" column-widths="columnWidths" content-widths-changed="columnWidths.setPreferredWidths(contentWidths, containerWidth)" is-row-selected="isCurrentExplicitPermission(row)" row-hovered="explicitRowHovered(row)" row-clicked="toggleCurrentExplicitPermission(row)" rows="explicitPermissions" rows-clickable="true" get-elements-of-selected-rows="getSelectedRowElement" scroll-controls="explicitPermissionsPanelControls.scrollControls" scroll-left-changed="scrollLeftChanged(scrollLeft)" ng-class="{ 'tb-has-current-effective-permission': hasCurrentEffectivePermission() }" class="tb-show-lines tb-hide-current-row"></tb:data-grid-body></div></div></div><div ng-if="editability.editable" class="tb-add-permissions-rule-container"><a tb-button-click="addUserOrGroupSelector.isShown = !addUserOrGroupSelector.isShown" class="tb-row-height-box tb-padded-left tb-row">+ Agregar una regla de usuario o grupo</a><span ng-show="addUserOrGroupSelector.isShown" class="tb-padded-box"><tb:user-or-group-selector auto-edit="addUserOrGroupSelector.isShown" user-selected="addNewUserPermission(user)" group-selected="addNewGroupPermission(group)"></tb:user-or-group-selector></span></div></div><div class="tb-permissions-bottom"><div tb-mouse-capture-down="startResize($event.pageY)" tb-mouse-capture="continueResize($event.pageY)" class="tb-permissions-panel-divider"></div><div class="tb-permissions-below-divider"><div ng-if="!haveCurrentExplicitPermission()" class="tb-fill tb-effective-permissions-empty"><div tb-test-id="permissions-panel-need-rule-message" class="tb-action-panel-placeholder-msg">Busque a un usuario o seleccione una regla de permisos m√°s arriba para ver los permisos de usuario.</div></div><div ng-if="haveCurrentExplicitPermission() &amp;&amp; isLoadingEffectivePermissions" class="tb-fill tb-effective-permissions-empty"><div class="tb-action-panel-placeholder-msg">Cargando permisos‚Ä¶</div></div><tb:template-list templates="effectivePermissionCells"><tb:template><div data-tb-test-id="effective-grantee-name" class="tb-effective-cell-background"><span class="tb-grantee-type-icon tb-grantee-type-icon-user"></span><span class="tb-effective-permission-name">{{granteeName(row)}}</span></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(0, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(0, columnWidths.getPreferred(0))" class="tb-section-group-divider"></div></div></tb:template><tb:template><div data-tb-test-id="effective-role-value-workbook" class="tb-effective-cell-background"><span class="tb-permissions-role-column-text">{{userStatusForRow(row, 'workbook') | translate }}</span></div></tb:template><tb:template><div ng-class="{'tb-hover': isHoveredEffectivePermission(row)}" ng-show="sectionGroupAccordion.isSectionOpen(0)" class="tb-capability-value-group"><div data-tb-test-id="effective-capability-value-workbook-read" data-capability-name="workbook-read" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-left tb-permissions-section-first"><span data-tooltip="Ver: {{capabilityTitleKey(row, 'workbook', 'read', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'read', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-export_image" data-capability-name="workbook-export_image" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Descargar imagen/PDF: {{capabilityTitleKey(row, 'workbook', 'export_image', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_image', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-export_data" data-capability-name="workbook-export_data" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Descargar datos de resumen: {{capabilityTitleKey(row, 'workbook', 'export_data', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_data', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-view_comments" data-capability-name="workbook-view_comments" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Ver comentarios: {{capabilityTitleKey(row, 'workbook', 'view_comments', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'view_comments', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-add_comment" data-capability-name="workbook-add_comment" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-right"><span data-tooltip="Agregar comentarios: {{capabilityTitleKey(row, 'workbook', 'add_comment', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'add_comment', 'unspecified')}}"></span></div></div></tb:template><tb:template><div ng-class="{'tb-hover': isHoveredEffectivePermission(row)}" ng-show="sectionGroupAccordion.isSectionOpen(0)" class="tb-capability-value-group"><div data-tb-test-id="effective-capability-value-workbook-filter" data-capability-name="workbook-filter" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-left"><span data-tooltip="Filtrar: {{capabilityTitleKey(row, 'workbook', 'filter', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'filter', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-vud" data-capability-name="workbook-vud" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Descargar datos completos: {{capabilityTitleKey(row, 'workbook', 'vud', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'vud', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-share_view" data-capability-name="workbook-share_view" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Recurso compartido personalizado: {{capabilityTitleKey(row, 'workbook', 'share_view', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'share_view', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-web_authoring" data-capability-name="workbook-web_authoring" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-right"><span data-tooltip="Edici√≥n web: {{capabilityTitleKey(row, 'workbook', 'web_authoring', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'web_authoring', 'unspecified')}}"></span></div></div></tb:template><tb:template><div ng-class="{'tb-hover': isHoveredEffectivePermission(row)}" ng-show="sectionGroupAccordion.isSectionOpen(0)" class="tb-capability-value-group"><div data-tb-test-id="effective-capability-value-workbook-write" data-capability-name="workbook-write" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-left"><span data-tooltip="Guardar: {{capabilityTitleKey(row, 'workbook', 'write', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'write', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-export_xml" data-capability-name="workbook-export_xml" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Descargar libro de trabajo/guardar como: {{capabilityTitleKey(row, 'workbook', 'export_xml', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'export_xml', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-change_hierarchy" data-capability-name="workbook-change_hierarchy" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Mover: {{capabilityTitleKey(row, 'workbook', 'change_hierarchy', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'change_hierarchy', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-delete" data-capability-name="workbook-delete" class="tb-capability-value-cell tb-effective-capability-value"><span data-tooltip="Eliminar: {{capabilityTitleKey(row, 'workbook', 'delete', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'delete', 'unspecified')}}"></span></div><div data-tb-test-id="effective-capability-value-workbook-change_permissions" data-capability-name="workbook-change_permissions" class="tb-capability-value-cell tb-effective-capability-value tb-permissions-section-right"><span data-tooltip="Configurar permisos: {{capabilityTitleKey(row, 'workbook', 'change_permissions', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(row, 'workbook', 'change_permissions', 'unspecified')}}"></span></div></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(2, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(2, columnWidths.getPreferred(2))" class="tb-section-group-divider"></div></div></tb:template></tb:template-list><div ng-if="haveCurrentExplicitPermission() &amp;&amp; !isLoadingEffectivePermissions" class="tb-permissions-panel-header"><span class="tb-effective-permissions-title">Permisos de usuario</span><span class="tb-selected-grantee-name">{{ granteeName(currentExplicitPermission) }}</span></div><div ng-if="haveCurrentExplicitPermission()" tb-tooltip-area="getTooltipText($event)" tb-child-mouseenter-touchstart="setHoveredCapabilityValue(child)" tb-child-mouseleave-touchmove="clearHoveredCapabilityValue()" tb-child-selector=".tb-capability-value-cell" class="tb-effective-permissions-container"><tb:data-grid-body cells="effectivePermissionCells" column-widths="columnWidths" row-hovered="effectiveRowHovered(row)" rows="effectivePermissions" rows-clickable="false" slice-changed="effectivePermissionsSliceChanged(newSlice)" scroll-controls="effectivePermissionsPanelControls.scrollControls" scroll-left-changed="scrollLeftChanged(scrollLeft)" keep-column-widths="true" class="tb-show-lines tb-hide-current-row"></tb:data-grid-body></div></div></div></div>