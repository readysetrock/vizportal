<div ng-switch="displaySettings.displayMode"><div ng-switch-default="ng-switch-default" class="tb-cards"><tb:scroll items="sliceable" layout="gridLayout(432, 350)" slice-changed="sliceChanged(newSlice)"><div ng-repeat="item in slice.items" tb-selected="selectedItems.contains(item)" ng-mouseenter="hover = true" ng-mouseleave="hover = false" ng-class="{'tb-hover': hover &amp;&amp; !isTouch, 'tb-thumbnail-touch': isTouch}" class="tb-thumbnail"><div class="tb-card-view"><a ng-href="{{ detailsUrl(item) }}" class="tb-card-view-name">{{ item.name }}</a><a ng-mouseenter="showReadMore = shouldShowReadMore($event)" ng-mouseleave="showReadMore = false" ng-href="{{ detailsUrl(item) }}" class="tb-card-view-description"><div ng-show="item.description" tb-textile="item.description" class="tb-card-view-description-text"></div><div ng-show="!item.description" class="tb-project-large"></div><div class="tb-project-description-fade"></div></a><a ng-show="item.description &amp;&amp; showReadMore" ng-mouseenter="showReadMore = shouldShowReadMore($event)" ng-mouseleave="showReadMore = false" ng-href="{{ detailsUrl(item, 'details') }}" class="tb-project-description-read-more">続きを読む</a><div class="tb-card-view-footer"><div class="tb-card-view-footer-table"><div class="tb-card-view-footer-cell tb-card-view-footer-cell-left"><a ng-href="{{ detailsUrl(item, 'workbook') }}" class="tb-card-view-footer-cell-link"><div class="tb-card-view-footer-cell-contents"><div><span class="tb-card-view-footer-content-icon tb-link-workbook"></span><span class="tb-card-view-footer-content-name">ワークブック</span></div><div class="tb-card-view-footer-cell-contents-count">{{ (item.workbookCount || 0) | localizedCount }}</div></div></a></div><div class="tb-card-view-footer-cell tb-card-view-footer-cell-middle"><a ng-href="{{ detailsUrl(item, 'view')}}" class="tb-card-view-footer-cell-link"><div class="tb-card-view-footer-cell-contents"><div><span class="tb-card-view-footer-content-icon tb-link-view"></span><span class="tb-card-view-footer-content-name">ビュー</span></div><div class="tb-card-view-footer-cell-contents-count">{{ (item.viewCount || 0) | localizedCount }}</div></div></a></div><div class="tb-card-view-footer-cell tb-card-view-footer-cell-right"><a ng-href="{{ detailsUrl(item, 'datasource') }}" class="tb-card-view-footer-cell-link"><div class="tb-card-view-footer-cell-contents"><div><span class="tb-card-view-footer-content-icon tb-link-datasource"></span><span class="tb-card-view-footer-content-name">データ ソース</span></div><div class="tb-card-view-footer-cell-contents-count">{{ (item.datasourceCount || 0) | localizedCount }}</div></div></a></div></div></div></div><a ng-href="{{ detailsUrl(item) }}" ng-show="anyActionsAllowed()" class="tb-thumbnail-checkbox-background tb-card"></a><div tb-button-click="selectedItems.toggle(item)" ng-show="anyActionsAllowed()" class="tb-thumbnail-checkbox-target"></div><a ng-href="{{ detailsUrl(item) }}" ng-show="anyActionsAllowed()" ng-class="{'tb-selected':actionMenuOpened}" class="tb-thumbnail-action-menu-background tb-card"></a><tb:popup-menu ng-show="anyActionsAllowed()" opened="actionMenuOpened = true" closed="actionMenuOpened = false" tb-button-click="selectedItems.clear(); selectedItems.add(item);" class="tb-thumbnail-action-menu"><tb:popup-menu-custom-button><span class="tb-action-icon"></span></tb:popup-menu-custom-button><tb:popup-menu-content><div ng-include="'actionMenu.html'"></div></tb:popup-menu-content></tb:popup-menu></div></tb:scroll><div ng-if="isEmpty" class="tb-fill"><div ng-include="'emptyDataGridTemplate.html'" class="tb-fill"></div></div></div><div ng-switch-when="list" ng-controller="ContentGridCtrl"><tb:react-data-grid props="dataGridProps" ng-if="useReactDataGrid" ng-class="{'tb-data-grid-margin-left':!displaySettings.showFilterPanel}"></tb:react-data-grid><span ng-if="!useReactDataGrid"><tb:template-list templates="headers"><tb:template template-if="anyActionsAllowed()"></tb:template><tb:template key="name" resizable="resizable" clickable="clickable" direction="asc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('name'),'tb-sort-desc':sorter.isSortDescendingBy('name')}" class="tb-data-grid-header-text">名前</span></tb:template><tb:template template-if="anyActionsAllowed()"></tb:template><tb:template key="workbookCount" resizable="resizable" clickable="clickable" direction="asc" numeric="numeric"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('workbookCount'),'tb-sort-desc':sorter.isSortDescendingBy('workbookCount')}" class="tb-data-grid-header-text">ワークブック</span></tb:template><tb:template key="viewCount" resizable="resizable" clickable="clickable" direction="asc" numeric="numeric"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('viewCount'),'tb-sort-desc':sorter.isSortDescendingBy('viewCount')}" class="tb-data-grid-header-text">ビュー</span></tb:template><tb:template key="datasourceCount" resizable="resizable" clickable="clickable" direction="asc" numeric="numeric"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('datasourceCount'),'tb-sort-desc':sorter.isSortDescendingBy('datasourceCount')}" class="tb-data-grid-header-text">データ ソース</span></tb:template><tb:template key="ownerName" resizable="resizable" clickable="clickable" direction="asc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('ownerName'),'tb-sort-desc':sorter.isSortDescendingBy('ownerName')}" class="tb-data-grid-header-text">所有者</span></tb:template><tb:template key="createdAt" resizable="resizable" clickable="clickable" direction="desc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('createdAt'),'tb-sort-desc':sorter.isSortDescendingBy('createdAt')}" class="tb-data-grid-header-text">作成日時</span></tb:template></tb:template-list><tb:template-list templates="cells"><tb:template default-width="27" template-if="anyActionsAllowed()"><span class="tb-checkbox-cell"><tb:checkbox checked="selectedItems.contains(row)" tb-disabled="disabledItems.contains(row)" tb-space="rowClicked(row, 0);"></tb:checkbox></span></tb:template><tb:template><a ng-href="{{ detailsUrl(row) }}" class="tb-lr-padded-wide tb-prevent-data-grid-events"><span title="プロジェクト" class="tb-prevent-data-grid-events tb-grid-icon-project"></span><span title="{{ row.name }}" class="tb-prevent-data-grid-events tb-cell-height-padding">{{ row.name }}</span></a></tb:template><tb:template icon="icon" default-width="27" template-if="anyActionsAllowed()"><tb:popup-menu><tb:popup-menu-custom-button class="tb-data-grid-action-menu"><span class="tb-action-icon"></span></tb:popup-menu-custom-button><tb:popup-menu-content><div ng-include="'actionMenu.html'"></div></tb:popup-menu-content></tb:popup-menu></tb:template><tb:template numeric="numeric"><span title="{{ row.workbookCount | localizedCount }}" class="tb-lr-padded-wide">{{ row.workbookCount | localizedCount }}</span></tb:template><tb:template numeric="numeric"><span title="{{ row.viewCount | localizedCount }}" class="tb-lr-padded-wide">{{ row.viewCount | localizedCount }}</span></tb:template><tb:template numeric="numeric"><span title="{{ row.datasourceCount | localizedCount }}" class="tb-lr-padded-wide">{{ row.datasourceCount | localizedCount }}</span></tb:template><tb:template><a ui-sref="main.site.user.workbooks({ username: row.owner.username, domainName: row.owner.domainName })" tb-disabled="row.owner.readOnly" class="tb-lr-padded-wide tb-cell-height-padding tb-prevent-data-grid-events">{{ row.owner.displayName }}</a></tb:template><tb:template><span title="{{ row.createdAt | localizedDateTime }}" class="tb-lr-padded-wide">{{ row.createdAt | localizedDateTime }}</span></tb:template></tb:template-list><tb:data-grid headers="headers" cells="cells" items="sliceable" is-row-selected="selectedItems.contains(row)" header-clicked="headerClicked(header)" row-clicked="rowClicked(row, colIndex)" rows-clickable="anyActionsAllowed()" slice-changed="sliceChanged(newSlice)" empty-template="'emptyDataGridTemplate.html'" empty-template-model="emptyTemplateModel" class="tb-show-lines tb-hide-current-row" ng-class="{'tb-data-grid-margin-left':!displaySettings.showFilterPanel}"></tb:data-grid></span></div></div>