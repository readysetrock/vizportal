<div class="tb-fill"><div class="tb-action-bar"><div class="tb-action-bar-left"><span class="tb-box tb-row tb-margin-right-wide"><span tb-button-click="filterControls.clearAllFilters(); displaySettings.showFilterPanel = !displaySettings.showFilterPanel;" tb-test-id="toggle-filter-panel" tb-selected="displaySettings.showFilterPanel" title="Filter" class="tb-filter-panel-toggle-button"></span></span><span ng-repeat="action in listActions | filter:availableListAction" class="tb-box"><span tabindex="0" tb-button-click="action.execute($event)" tb-test-id="action-{{action.name}}" class="tb-outline-button tb-new-button tb-row tb-margin-right-wide"><span class="tb-create-new-icon"></span><span translate="{{action.translate || action.name}}"></span></span></span><tb:selection-menu selection="selectedItems" sliceable="sliceable" ng-if="anyActionsAllowed()"></tb:selection-menu><span ng-if="showActionMenu()" class="tb-box"><span class="tb-action-bar-divider"></span><span class="tb-box tb-row"><tb:popup-menu direction="dr"><tb:popup-menu-text-button tb-test-id="action-menu-button" class="tb-small">Aktionen</tb:popup-menu-text-button><tb:popup-menu-content><div tb-button-click="popupMenu.close()"><div ng-repeat="action in menuActions | filter:availableAction" tb-button-click="action.execute(selectedItems, actionMenuContext(popupMenu.button), detailedItem)" tb-test-id="action-{{action.name}}" tb-disabled="!!action.isDisabled(selectedItems, detailedItem, allowedActions)" translate="{{action.translate || action.name}}" class="tb-popup-menu-item"></div></div></tb:popup-menu-content></tb:popup-menu></span></span></div><div ng-if="showModeSwitcher()" class="tb-action-bar-right"><span ng-show="displaySettings.displayMode === 'thumbnail'" ng-include="'thumbnailSort.html'" class="tb-padded-box"></span><tb:mode-switcher display-mode="displaySettings.displayMode"></tb:mode-switcher></div></div><div ng-if="workbook.hasExtracts" class="tb-details-header-sub"><span class="tb-details-header-label">Letzte Datenextraktaktualisierung:</span><span>{{ (workbook.lastRefreshedAt || workbook.updatedAt) | localizedDateTime }}</span><button ng-if="allowedAction('refreshExtract')" tb-button-click="refreshNow($event)" class="tb-outline-button tb-margin-left-wide">Jetzt aktualisieren</button></div><div ng-if="displaySettings.showFilterPanel" ng-controller="FilterPanelCtrl" class="tb-filter-panel"><script type="text/ng-template" id="inline_filter_date.html"><div class="tb-filter-label"><span translate="{{filter.definition.name}}"></span><a ng-show="!!filter.value" tb-button-click="filter.value = filter.definition.clearValue" class="tb-clear-link">Löschen</a></div><tb:popup-menu direction="dr"><tb:popup-menu-button><div title="{{ filter.value | localizedDate }}" class="tb-filter-popup-menu-button-text">{{ filter.value | localizedDate }}</div></tb:popup-menu-button><tb:popup-menu-content><tb:date-picker selected-date="filter.value" on-select="popupMenu.close()"></tb:date-picker></tb:popup-menu-content></tb:popup-menu></script><script type="text/ng-template" id="inline_filter_typeahead.html"><div class="tb-filter-label"><span translate="{{filter.definition.name}}"></span><a ng-show="!!filter.value" tb-button-click="filter.value = filter.definition.clearValue" class="tb-clear-link">Löschen</a></div><tb:typeahead-filter></tb:typeahead-filter></script><script type="text/ng-template" id="inline_filter_boolean.html"><span tabindex="0" tb-button-click="filter.value = !filter.value" tb-space="filter.value = !filter.value" ng-class="{ 'tb-checked': filter.value }" translate="{{filter.definition.name}}" class="tb-checkbox tb-with-label"></span></script><script type="text/ng-template" id="inline_filter_select.html"><div class="tb-filter-label"><span translate="{{filter.definition.name}}"></span></div><tb:select ng-model="filter.value" match-button-width="true"><tb:select-option ng-repeat="option in filter.definition.options" value="option.value" count="option.count"><span tb-test-id="option-value-{{option.value}}">{{option.translate | translate}}</span></tb:select-option></tb:select></script><script type="text/ng-template" id="inline_filter_text.html"><div class="tb-filter-label"><span translate="{{filter.definition.name}}"></span></div><tb:text-box tb-text-box-model="filter.value" tb-text-box-model-options="{updateOn: 'enter clear'}" tb-text-box-clear-value="filter.clear" tb-text-box-clearable="true"></tb:text-box></script><script type="text/ng-template" id="inline_filter_textDropdown.html"><div class="tb-filter-label"><span translate="{{filter.definition.name}}"></span></div><tb:text-dropdown ng-model="filter.value" option-list="filter.definition.options" tb-prevent-input="!filter.definition.isValid(value)"></tb:text-dropdown></script><div class="tb-filter-panel-filters"><div class="tb-clear-all-filters"><a ng-if="anyFiltersActive" tabindex="0" tb-button-click="filterControls.clearAllFilters()" tb-enter="filterControls.clearAllFilters()" tb-test-id="clear-all-filters">Alle Filter löschen</a></div><div class="tb-search-filter"><div class="tb-search-panel"><div class="tb-search-box"><tb:text-box tb-text-box-max-length="200" tb-text-box-model="searchText" tb-text-box-enter="submitSearch(searchText, $event)" tb-text-box-clearable="true" tb-text-box-clear="submitSearch('')" tb-test-id="filter-search"></tb:text-box></div><div class="tb-search-button-wrapper"><a tb-button-click="submitSearch(searchText)" title="Suche" tb-test-id="filter-search-button" class="tb-search-button"></a></div></div></div><div ng-if="anyGeneralFilters()" class="tb-filter-section"><div class="tb-filter-section-header">Allgemeine Filter</div><div ng-repeat="filter in filters | filter:generalFilter" tb-test-id="{{'filter-' + filter.definition.name}}"><div ng-include="'inline_filter_' + filter.definition.type + '.html'" class="tb-filter"></div></div><div class="tb-filter-checkboxes"><div ng-repeat="filter in filters | filter:generalCheckbox" tb-test-id="{{'filter-' + filter.definition.name}}"><div ng-include="'inline_filter_' + filter.definition.type + '.html'" class="tb-filter"></div></div></div></div><div ng-if="anyDatasourceFilters()" class="tb-filter-section"><div class="tb-filter-section-header">Datenquellenfilter</div><div ng-repeat="filter in filters | filter:datasourceFilter" tb-test-id="{{'filter-' + filter.definition.name}}"><div ng-include="'inline_filter_' + filter.definition.type + '.html'" class="tb-filter"></div></div><div class="tb-filter-checkboxes"><div ng-repeat="filter in filters | filter:datasourceCheckbox" tb-test-id="{{'filter-' + filter.definition.name}}"><div ng-include="'inline_filter_' + filter.definition.type + '.html'" class="tb-filter"></div></div></div></div></div><div class="tb-filter-panel-divider"></div></div><div ng-class="{'tb-with-filter-panel': displaySettings.showFilterPanel}" class="tb-items-panel"><div ng-include="contentType + 'Grid.html'"></div></div></div>