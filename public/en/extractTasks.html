<div class="tb-fill"><div class="tb-action-bar"><div class="tb-action-bar-left"><span ng-repeat="action in listActions | filter:availableListAction" class="tb-box"><span tabindex="0" tb-button-click="action.execute($event)" tb-test-id="action-{{action.name}}" class="tb-outline-button tb-new-button tb-row tb-margin-right-wide"><span class="tb-create-new-icon"></span><span translate="{{action.translate || action.name}}"></span></span></span><tb:selection-menu selection="selectedItems" sliceable="sliceable" ng-if="anyActionsAllowed()"></tb:selection-menu><span ng-if="showActionMenu()" class="tb-box"><span class="tb-action-bar-divider"></span><span class="tb-box tb-row"><tb:popup-menu direction="dr"><tb:popup-menu-text-button tb-test-id="action-menu-button" class="tb-small">Actions</tb:popup-menu-text-button><tb:popup-menu-content><div tb-button-click="popupMenu.close()"><div ng-repeat="action in menuActions | filter:availableAction" tb-button-click="action.execute(selectedItems, actionMenuContext(popupMenu.button), detailedItem)" tb-test-id="action-{{action.name}}" tb-disabled="!!action.isDisabled(selectedItems, detailedItem, allowedActions)" translate="{{action.translate || action.name}}" class="tb-popup-menu-item"></div></div></tb:popup-menu-content></tb:popup-menu></span></span></div></div><div ng-if="showRefreshProperties()" class="tb-details-header-sub"><span>Refresh this extract on</span><button tb-disabled="!refreshPropertiesAreEditable()" tb-button-click="changeRemoteRefreshProperties($event)" tb-test-id="remote-refresh-properties-button" class="tb-outline-button tb-margin-left-wide tb-refresh-properties-button"><span>{{currentRefreshLocation()}}</span></button></div><div class="tb-items-panel"><tb:react-data-grid props="dataGridProps" ng-if="useReactDataGrid"></tb:react-data-grid><span ng-if="!useReactDataGrid"><tb:template-list templates="headers"><tb:template template-if="anyActionsAllowed()"></tb:template><tb:template key="targetName" resizable="resizable" clickable="clickable" direction="asc" template-if="!(place === 'workbook' || place === 'datasource')"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('targetName'),'tb-sort-desc':sorter.isSortDescendingBy('targetName')}" class="tb-data-grid-header-text">Workbook / Data Source</span></tb:template><tb:template template-if="!(place === 'workbook' || place === 'datasource') &amp;&amp; anyActionsAllowed()"></tb:template><tb:template key="type" resizable="resizable" clickable="clickable" direction="asc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('type'),'tb-sort-desc':sorter.isSortDescendingBy('type')}" class="tb-data-grid-header-text">Refresh type</span></tb:template><tb:template template-if="(place === 'workbook' || place === 'datasource') &amp;&amp; anyActionsAllowed()"></tb:template><tb:template key="scheduleName" resizable="resizable" clickable="clickable" direction="asc" template-if="!('**.schedule.**' | includedByState)"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('scheduleName'),'tb-sort-desc':sorter.isSortDescendingBy('scheduleName')}" class="tb-data-grid-header-text">Schedule</span></tb:template><tb:template key="priority" resizable="resizable" clickable="clickable" direction="asc" numeric="numeric"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('priority'),'tb-sort-desc':sorter.isSortDescendingBy('priority')}" class="tb-data-grid-header-text">Priority</span></tb:template><tb:template key="siteName" resizable="resizable" clickable="clickable" direction="asc" template-if="'main.server.**' | includedByState"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('siteName'),'tb-sort-desc':sorter.isSortDescendingBy('siteName')}" class="tb-data-grid-header-text">Site</span></tb:template><tb:template key="lastRunAt" resizable="resizable" clickable="clickable" direction="desc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('lastRunAt'),'tb-sort-desc':sorter.isSortDescendingBy('lastRunAt')}" class="tb-data-grid-header-text">Last update</span></tb:template><tb:template key="runNextAt" resizable="resizable" clickable="clickable" direction="asc"><span ng-class="{'tb-sort-asc':sorter.isSortAscendingBy('runNextAt'),'tb-sort-desc':sorter.isSortDescendingBy('runNextAt')}" class="tb-data-grid-header-text">Next update</span></tb:template></tb:template-list><tb:template-list templates="cells"><tb:template default-width="27" template-if="anyActionsAllowed()"><span class="tb-checkbox-cell"><tb:checkbox checked="selectedItems.contains(row)" tb-disabled="disabledItems.contains(row)" tb-space="rowClicked(row, 0);"></tb:checkbox></span></tb:template><tb:template template-if="!(place === 'workbook' || place === 'datasource')"><a ng-if="!!row.workbook" ui-sref="main.site.content.workbook.views({id: row.workbook.id, siteUrlName: row.site.urlName})" class="tb-lr-padded-wide tb-prevent-data-grid-events"><span title="Workbook" class="tb-prevent-data-grid-events tb-grid-icon-workbook"></span><span title="{{ row.workbook.name }}" class="tb-prevent-data-grid-events tb-cell-height-padding">{{ row.workbook.name }}</span></a><a ng-if="!!row.datasource" ui-sref="main.site.content.datasource.connectedWorkbooks({id: row.datasource.id, siteUrlName: row.site.urlName})" class="tb-lr-padded-wide tb-prevent-data-grid-events"><span title="Data Source" class="tb-prevent-data-grid-events tb-grid-icon-datasource"></span><span title="{{ row.datasource.name }}" class="tb-prevent-data-grid-events tb-cell-height-padding">{{ row.datasource.name }}</span></a></tb:template><tb:template icon="icon" default-width="27" template-if="!(place === 'workbook' || place === 'datasource') &amp;&amp; anyActionsAllowed()"><tb:popup-menu><tb:popup-menu-custom-button class="tb-data-grid-action-menu"><span class="tb-action-icon"></span></tb:popup-menu-custom-button><tb:popup-menu-content><div ng-include="'actionMenu.html'"></div></tb:popup-menu-content></tb:popup-menu></tb:template><tb:template><span title="{{ extractTypeTranslationKey(row) | translate }}" translate="{{extractTypeTranslationKey(row)}}" class="tb-lr-padded-wide"></span></tb:template><tb:template icon="icon" default-width="27" template-if="(place === 'workbook' || place === 'datasource') &amp;&amp; anyActionsAllowed()"><tb:popup-menu><tb:popup-menu-custom-button class="tb-data-grid-action-menu"><span class="tb-action-icon"></span></tb:popup-menu-custom-button><tb:popup-menu-content><div ng-include="'actionMenu.html'"></div></tb:popup-menu-content></tb:popup-menu></tb:template><tb:template template-if="!('**.schedule.**' | includedByState)"><span title="{{ row.schedule.name + ': ' + (row.schedule | scheduleFrequencyDescription) }}" class="tb-lr-padded-wide"><a ui-sref="{{ ('main.server.**' | includedByState) ? 'main.server' : 'main.site' }}.schedule.extractTasks({id: row.schedule.id})" class="tb-cell-height-padding tb-prevent-data-grid-events">{{ row.schedule.name }}</a><span>&nbsp;&ndash; {{ row.schedule | scheduleFrequencyDescription }}</span></span></tb:template><tb:template numeric="numeric"><span title="{{ row.priority }}" class="tb-lr-padded-wide">{{ row.priority }}</span></tb:template><tb:template template-if="'main.server.**' | includedByState"><span title="{{ row.site.name }}" class="tb-lr-padded-wide">{{ row.site.name }}</span></tb:template><tb:template><span ng-if="row.lastRunAt" title="{{ row.lastRunAt | localizedDateTime }}" class="tb-lr-padded-wide">{{ row.lastRunAt | localizedDateTime }}</span><span ng-if="!row.lastRunAt" title="Never" class="tb-lr-padded-wide">Never</span></tb:template><tb:template><span ng-if="row.runNextAt" title="{{ row.runNextAt | localizedDateTime }}" class="tb-lr-padded-wide">{{ row.runNextAt | localizedDateTime }}</span><span ng-if="!row.runNextAt" title="Disabled" class="tb-lr-padded-wide">Disabled</span></tb:template></tb:template-list><tb:data-grid headers="headers" cells="cells" items="sliceable" is-row-selected="selectedItems.contains(row)" header-clicked="headerClicked(header)" row-clicked="rowClicked(row, colIndex)" rows-clickable="anyActionsAllowed()" slice-changed="sliceChanged(newSlice)" empty-template="'emptyDataGridTemplate.html'" empty-template-model="emptyTemplateModel" class="tb-show-lines tb-hide-current-row tb-data-grid-margin-left"></tb:data-grid></span></div></div>