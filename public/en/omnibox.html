<span class="tb-omnibox"><div class="tb-omnibox-text-box"><div class="tb-search-box"><tb:text-box tb-test-id="omnibox-input-id" tb-text-box-model="searchText" tb-text-box-keydown="keydown($event)" tb-text-box-placeholder="'Search'" tb-text-box-name="{{ textBoxName }}" tb-text-box-clearable="true" tb-text-box-clear="clearSearch()"></tb:text-box></div><a class="tb-search-button">Search</a></div><tb:popup show="showResults || showNoResults" position-corner="br" content-corner="tr"><div tb-mousedown-outside="close($event)" tb-button-click="close()" class="tb-omnibox-popup-deprecated tb-padded-small"><div ng-if="showResults" tb-max-height="popupMaxHeight()" class="tb-omnibox-results"><div ng-if="views.items.length &gt; 0"><div class="tb-omnibox-section-header">Views</div><div class="tb-omnibox-section-content"><a ng-repeat="item in views.items" ng-href="{{ itemHref('main.site.viz', {path: item.path}) }}" tb-selected="isItemSelected('views', $index)" title="{{tooltipForView(item)}}" class="tb-omnibox-menu-item"><div class="tb-omnibox-menu-item-icon tb-views"></div><span ng-class="{'tb-omnibox-menu-item-text-favorite': item.favorite}" class="tb-omnibox-menu-item-text">{{ item.name }}</span><div ng-show="item.favorite" class="tb-omnibox-menu-item-icon tb-favorite"></div></a><a ng-if="showSeeAll(views, 'views')" ng-href="{{ seeAllHref('main.site.content.site.views') }}" tb-selected="isItemSelected('views', maxResultsPerType)" translate="seeAll_views" translate-values="{COUNT: views.total}" translate-interpolation="localizedCountEscaped" class="tb-omnibox-menu-item"></a></div></div><div ng-if="workbooks.items.length &gt; 0"><div class="tb-omnibox-section-header">Workbooks</div><div class="tb-omnibox-section-content"><a ng-repeat="item in workbooks.items" ng-href="{{ itemHref('main.site.content.workbook.views', {id: item.id}) }}" tb-selected="isItemSelected('workbooks', $index)" title="{{tooltipForWorkbook(item)}}" class="tb-omnibox-menu-item"><div class="tb-omnibox-menu-item-icon tb-workbooks"></div><span ng-class="{'tb-omnibox-menu-item-text-favorite': item.favorite}" class="tb-omnibox-menu-item-text">{{ item.name }}</span><div ng-show="item.favorite" class="tb-omnibox-menu-item-icon tb-favorite"></div></a><a ng-if="showSeeAll(workbooks, 'workbooks')" ng-href="{{ seeAllHref('main.site.content.site.workbooks') }}" tb-selected="isItemSelected('workbooks', maxResultsPerType)" translate="seeAll_workbooks" translate-values="{COUNT: workbooks.total}" translate-interpolation="localizedCountEscaped" class="tb-omnibox-menu-item"></a></div></div><div ng-if="datasources.items.length &gt; 0"><div class="tb-omnibox-section-header">Data Sources</div><div class="tb-omnibox-section-content"><a ng-repeat="item in datasources.items" ng-href="{{ itemHref('main.site.content.datasource.connectedWorkbooks', {id: item.id}) }}" tb-selected="isItemSelected('datasources', $index)" title="{{tooltipForDataSource(item)}}" class="tb-omnibox-menu-item"><div class="tb-omnibox-menu-item-icon tb-datasources"></div><span ng-class="{'tb-omnibox-menu-item-text-favorite': item.favorite}" class="tb-omnibox-menu-item-text">{{ item.name }}</span><div ng-show="item.favorite" class="tb-omnibox-menu-item-icon tb-favorite"></div></a><a ng-if="showSeeAll(datasources, 'datasources')" ng-href="{{ seeAllHref('main.site.content.site.datasources') }}" tb-selected="isItemSelected('datasources', maxResultsPerType)" translate="seeAll_datasources" translate-values="{COUNT: datasources.total}" translate-interpolation="localizedCountEscaped" class="tb-omnibox-menu-item"></a></div></div><div ng-if="projects.items.length &gt; 0"><div class="tb-omnibox-section-header">Projects</div><div class="tb-omnibox-section-content"><a ng-repeat="item in projects.items" ng-href="{{ itemHref('main.site.content.project.workbooks', {id: item.id}) }}" tb-selected="isItemSelected('projects', $index)" title="{{item.name}}" class="tb-omnibox-menu-item"><div class="tb-omnibox-menu-item-icon tb-projects"></div><span ng-class="{'tb-omnibox-menu-item-text-favorite': item.favorite}" class="tb-omnibox-menu-item-text">{{ item.name }}</span><div ng-show="item.favorite" class="tb-omnibox-menu-item-icon tb-favorite"></div></a><a ng-if="showSeeAll(projects, 'projects')" ng-href="{{ seeAllHref('main.site.content.site.projects') }}" tb-selected="isItemSelected('projects', maxResultsPerType)" translate="seeAll_projects" translate-values="{COUNT: projects.total}" translate-interpolation="localizedCountEscaped" class="tb-omnibox-menu-item"></a></div></div><div ng-if="users.items.length &gt; 0"><div class="tb-omnibox-section-header">Users</div><div class="tb-omnibox-section-content"><a ng-repeat="item in users.items" ng-href="{{ itemHref('main.site.user.workbooks', {username: item.username, domainName: item.domainName}) }}" tb-selected="isItemSelected('users', $index)" title="{{item.displayName}} ({{item.username}})" class="tb-omnibox-menu-item"><div class="tb-omnibox-menu-item-icon tb-users"></div><span ng-class="{'tb-omnibox-menu-item-text-favorite': item.favorite}" class="tb-omnibox-menu-item-text">{{ item.displayName }}</span><div ng-show="item.favorite" class="tb-omnibox-menu-item-icon tb-favorite"></div></a><a ng-if="showSeeAll(users, 'users')" ng-href="{{ seeAllHref('main.site.users') }}" tb-selected="isItemSelected('users', maxResultsPerType)" translate="seeAll_users" translate-values="{COUNT: users.total}" translate-interpolation="localizedCountEscaped" class="tb-omnibox-menu-item"></a></div></div></div><div ng-if="showNoResults" class="tb-omnibox-no-results">No matching results</div></div></tb:popup></span>