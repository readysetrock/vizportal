<div class="tb-tabs-banner-subplace"><div class="tb-scroll"><div class="tb-settings-container tb-settings-section"><div class="tb-site-authentication"><div class="tb-setting-group"><div class="tb-group-name">Clients connectés</div><div class="tb-group-content"><div class="tb-settings-msg">Les clients Tableau tels que les applications mobiles, le client de synchronisation et autres peuvent rester authentifiés à ce site après que l'utilisateur a fourni ses informations d'identification pour la première fois. Les connexions sont établies à l'aide de jetons sécurisés qui identifient de manière unique chaque utilisateur et client, sans stocker les informations d'identification du client.</div><tb:checkbox-group><tb:checkbox ng-model="siteSettingsForSiteAdmin.siteAdminSettings.refreshTokenEnabled"></tb:checkbox><tb:checkbox-label>Autoriser les clients connectés sur ce site Tableau Online.</tb:checkbox-label></tb:checkbox-group></div></div><div class="tb-setting-group"><div class="tb-connected-clients"></div><div class="tb-group-name">Authentification pour ce site</div><div ng-if="!allowed" class="tb-settings-msg"><div ng-bind-html="contactCustomerSupport() | locLinkifier"></div></div><div class="tb-group-content"><div class="tb-static-checkmark"></div><div class="tb-checkbox-label">ID Tableau</div><div class="tb-checkbox-indent">Type d'authentification par défaut pour tous les sites</div></div><div tb-disabled="!allowed" class="tb-group-content"><tb:checkbox-group><tb:checkbox ng-model="configuration.enabled" tb-disabled="!allowed"></tb:checkbox><tb:checkbox-label>Authentification unique avec SAML</tb:checkbox-label><span ng-if="configuration.enabled" class="tb-enabled-color">&nbsp;-&nbsp;SAML est activé</span><span ng-if="!configuration.enabled">&nbsp;-&nbsp;SAML n'est pas activé</span></tb:checkbox-group><div class="tb-checkbox-indent">Pour activer l'authentification unique, vous devez disposer d'un fournisseur d'identité (IdP) qui prend en charge SAML et les adresses de courriel pour chaque utilisateur mappé sur les adresses de courriel dans votre IdP.</div><div class="tb-checkbox-indent">&nbsp;</div><div class="tb-checkbox-indent">Suivez la procédure ci-dessous pour utiliser SAML en vue d'une authentification unique.</div></div></div><div tb-disabled="!isEnabled()" class="tb-site-authentication-settings"><div class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">1</span>Exporter le fichier de métadonnées depuis Tableau Online</div><div class="tb-group-content">Sélectionnez une option pour obtenir les métadonnées requises par l'IdP.<div class="tb-auth-options-list"><div class="tb-auth-options-list-item">&#x25cf;&nbsp;Enregistrez un fichier XML unique contenant toutes les métadonnées requises.&nbsp;<input type="button" value="Exporter les métadonnées" tb-button-click="download($event, configuration.serviceProviderEntityId)" tb-disabled="!isEnabled()" class="tb-outline-button"/></div><div>ou</div><div class="tb-auth-options-list-item">&#x25cf;&nbsp;Copiez l'ID d'entité de Tableau Online et l'URL de l'ACS individuellement, puis téléchargez le certificat X.509 dans un fichier CER.</div></div><div class="tb-auth-options-right-align"><div class="tb-auth-options-label">ID d'entité de Tableau Online</div><input type="text" readonly="readonly" value="{{configuration.serviceProviderEntityId}}" tb-disabled="!isEnabled()" class="tb-url-holder"/></div><div class="tb-auth-options-right-align"><div class="tb-auth-options-label">URL de l'ACS (Assertion Consumer Service)</div><input type="text" readonly="readonly" value="{{configuration.acsUrl}}" tb-disabled="!isEnabled()" class="tb-url-holder"/></div></div><div class="tb-auth-options-right-align"><input type="button" value="Télécharger le certificat de connexion et de cryptage" tb-button-click="download($event, configuration.certificateUrl)" tb-disabled="!isEnabled()" class="tb-outline-button"/></div></div><div class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">2</span><span class="tb-dark-highlight">Étape externe :</span>&nbsp;Importer le fichier de métadonnées vers l'IdP</div><div class="tb-group-content">Accédez au site de votre fournisseur d'identité et suivez les instructions indiquées pour configurer SAML. Selon votre IdP, vous devrez soit importer le fichier de métadonnées que vous avez exporté à l'étape 1, soit ajouter l'ID d'entité, l'URL ACS et le certificat individuellement.</div></div><div class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">3</span><span class="tb-dark-highlight">Étape externe :</span>&nbsp;Exporter le fichier de métadonnées depuis l'IdP</div><div class="tb-group-content">Exportez le fichier de métadonnées depuis l'IdP ou constituez votre propre fichier de métadonnées.</div></div><div class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">4</span>Importer le fichier de métadonnées dans Tableau Online</div><form action="{{endpoint}}" enctype="multipart/form-data" method="POST" target="{{iframeId}}" name="updateIdentityProviderForm" class="tb-form-indent"><tb:file-input filename-localization-key="siteAuthenticationIdPMetadataFile" name="entity_descriptor" required="required" class="tb-padded-box"></tb:file-input><input type="hidden" value="{{xsrfToken}}" name="XSRF-TOKEN"/><span class="tb-padded-box"><button type="submit" tb-disabled="!isEnabled()" translate="apply" class="tb-outline-button"></button></span><tb:upload-iframe iframe-id="iframeId" name="{{iframeId}}" handle-result="handleFormSubmitResult(result)"></tb:upload-iframe></form><div class="tb-auth-options-right-align"><div class="tb-auth-options-label">ID d'entité de l'IdP</div><input type="text" readonly="readonly" value="{{configuration.identityProviderEntityId}}" tb-disabled="!isIdentityProviderConfigured()" class="tb-url-holder"/></div><div class="tb-auth-options-right-align"><div class="tb-auth-options-label">URL du service SSO</div><input type="text" readonly="readonly" value="{{configuration.ssoServiceURL}}" tb-disabled="!isIdentityProviderConfigured()" class="tb-url-holder"/></div><div ng-show="isIdentityProviderConfigured() &amp;&amp; configuration.isSingleLogoutSupported" class="tb-auth-options-left-margin">L'IdP est configuré pour prendre en charge la déconnexion unique SAML (SLO)</div><div ng-show="isIdentityProviderConfigured() &amp;&amp; !configuration.isSingleLogoutSupported" class="tb-auth-options-left-margin">L'IdP n'est pas configuré pour prendre en charge la déconnexion unique SAML (SLO)</div><div class="tb-auth-options-right-align tb-label-padding"><input type="button" value="Tester la connexion" tb-button-click="testLogin()" tb-disabled="!isIdentityProviderConfigured()" class="tb-outline-button tb-float-left tb-auth-options-left-margin"/><input type="button" value="Supprimer le fournisseur d'identité" tb-button-click="removeIdentityProvider()" tb-disabled="!isIdentityProviderConfigured()" class="tb-outline-button"/></div></div><!-- this will be probably inside a form when the functionality is implemented--><div tb-disabled="!isIdentityProviderConfigured()" class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">5</span>Faire correspondre les assertions</div><div class="tb-group-content">Les assertions contiennent des attributs d'authentification et autres concernant un utilisateur. Vous pouvez spécifier les noms d'assertion IdP qui contiennent les informations requises par Tableau Online. Les  noms d'assertion figurent dans la configuration SAML de l'IdP.</div><div class="tb-group-content tb-auth-assertions tb-label-padding"><span class="tb-auth-table-header tb-auth-table-header-left">Attribut Tableau Online</span><span class="tb-auth-table-header tb-auth-table-header-right">Nom d'assertion du fournisseur d'identité (IdP)</span><table><tr><td>Courriel<br/>Les adresses de courriel doivent correspondre pour garantir une authentification réussie</td><td><tb:text-box tb-text-box-model="configuration.siteSAMLAttributeMapping.emailMapping" tb-disabled="!isIdentityProviderConfigured()"></tb:text-box></td></tr></table><table><tr><td colspan="3">Nom à afficher</td></tr><tr><td colspan="3">Fournissez un nom d'assertion pour le prénom et le nom ou pour le nom complet, selon la façon dont l'IdP stocke ces informations. Tableau Online utilise ces assertions pour définir le nom d'affichage.</td></tr><tr class="tb-auth-assertion-grouping"><td rowspan="2" class="tb-auth-assertions-radio"><input type="radio" name="assertion" tb-disabled="!isIdentityProviderConfigured()" ng-model="configuration.siteSAMLAttributeMapping.useFullName" ng-value="false"/></td><td class="tb-auth-assertions-radio-label">Prénom</td><td><tb:text-box tb-text-box-model="configuration.siteSAMLAttributeMapping.firstNameMapping" tb-disabled="!isIdentityProviderConfigured() || configuration.siteSAMLAttributeMapping.useFullName"></tb:text-box></td></tr><tr class="tb-auth-assertion-grouping"><td class="tb-auth-assertions-radio-label">Nom</td><td><tb:text-box tb-text-box-model="configuration.siteSAMLAttributeMapping.lastNameMapping" tb-disabled="!isIdentityProviderConfigured() || configuration.siteSAMLAttributeMapping.useFullName"></tb:text-box></td></tr><tr><td colspan="3"></td></tr><tr class="tb-auth-assertion-grouping"><td class="tb-auth-assertions-radio"><input type="radio" name="assertion" tb-disabled="!isIdentityProviderConfigured()" ng-model="configuration.siteSAMLAttributeMapping.useFullName" ng-value="true"/></td><td class="tb-auth-assertions-radio-label">Nom complet</td><td><tb:text-box tb-text-box-model="configuration.siteSAMLAttributeMapping.fullNameMapping" tb-disabled="!isIdentityProviderConfigured() || !configuration.siteSAMLAttributeMapping.useFullName"></tb:text-box></td></tr></table><div class="tb-auth-options-right-align"><button type="submit" tb-disabled="!isEnabled()" translate="apply" tb-button-click="setSiteAttributeMapping()" class="tb-outline-button"></button></div></div></div><div tb-disabled="!isIdentityProviderConfigured()" class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">6</span>Sélectionner des utilisateurs</div><div class="tb-group-content">Spécifier les utilisateurs qui peuvent se connecter avec SAML</div><div class="tb-group-content tb-users"><table><tr><td class="tb-users-link"><a ui-sref="main.site.users">Afficher les utilisateurs</a></td><td>&nbsp;-&nbsp;sélectionner un utilisateurs dans votre liste d'utilisateurs de Tableau Online</td></tr><tr><td class="tb-users-link"><a ng-click="openAddExternalUsersDialog($event)">Ajouter des utilisateurs</a></td><td>&nbsp;-&nbsp;taper les adresses de courriel des nouveaux utilisateurs</td></tr></table></div></div><div tb-disabled="!isIdentityProviderConfigured()" class="tb-setting-group"><div class="tb-group-name"><span class="tb-group-number">7</span>S'authentifier avec Tableau Online</div><div class="tb-group-content">Les utilisateurs approuvés peuvent à présent utiliser une authentification unique pour accéder à Tableau Online<br/>Si les utilisateurs rencontrent des problèmes d'authentification, vous pouvez les résoudre en exécutant les opérations suivantes :<div class="tb-auth-options-list"><div class="tb-auth-options-list-item">&#x25cf;&nbsp;Résoudre les problèmes de correspondance des assertions (étape 5)&nbsp;<input type="button" value="Télécharger le fichier journal" tb-button-click="download($event, downloadLogUrl())" tb-disabled="!isIdentityProviderConfigured()" class="tb-outline-button"/></div><div class="tb-auth-options-list-item">&#x25cf;&nbsp;Réexporter les données, les certificats de Online vers l'IdP (étapes 1-3)</div><div class="tb-auth-options-list-item">&#x25cf;&nbsp;Recharger de nouveaux fichiers de métadonnées (étape 4)</div></div><div>Désactiver SAML en désélectionnant l'option Authentification unique avec SAML en haut de cette page</div></div></div></div></div></div></div></div>