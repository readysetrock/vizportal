<div ng-switch="action"><tb:template-list ng-switch-when="delete" templates="templates.cells"><tb:template><div class="tb-explicit-cell-background"><span class="tb-grantee-type-icon tb-grantee-type-icon-{{granteeType(data.row)}}"></span><span class="tb-explicit-permission-name">{{granteeName(data.row)}}</span></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(0, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(0, columnWidths.getPreferred(0))" class="tb-section-group-divider"></div></div></tb:template><tb:template><div ng-class="{ 'tb-selected': isCurrentExplicitPermission(row),'tb-relevant-permission': isRelevantExplicitPermission(row),'tb-not-relevant-permission': isNotRelevantExplicitPermission(row) }" data-tb-test-id="explicit-role-value-datasource" class="tb-explicit-cell-background"><span class="tb-permissions-role-column-text">{{explicitGranteeRole(data.row, 'datasource') | translate }}</span></div></tb:template><tb:template><div ng-class=" {'tb-selected': isCurrentExplicitPermission(row), 'tb-hover': isHoveredExplicitPermission(row) } " ng-show="accordion.isSectionOpen(0)" data-tb-test-id="tb-accordion-section" class="tb-capability-value-group"><div data-tb-test-id="explicit-capability-value-datasource-read" data-capability-name="datasource-read" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-permissions-section-first tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'read', 'datasource-read')}}"><span data-tooltip="Afficher: {{capabilityTitleKey(data.row, 'datasource', 'read', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'read', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-datasource-connect" data-capability-name="datasource-connect" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'connect', 'datasource-connect')}}"><span data-tooltip="Connexion: {{capabilityTitleKey(data.row, 'datasource', 'connect', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'connect', 'unspecified')}}"></span></div></div></tb:template><tb:template><div ng-class=" {'tb-selected': isCurrentExplicitPermission(row), 'tb-hover': isHoveredExplicitPermission(row) } " ng-show="accordion.isSectionOpen(0)" data-tb-test-id="tb-accordion-section" class="tb-capability-value-group"><div data-tb-test-id="explicit-capability-value-datasource-write" data-capability-name="datasource-write" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'write', 'datasource-write')}}"><span data-tooltip="Enregistrer: {{capabilityTitleKey(data.row, 'datasource', 'write', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'write', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-datasource-export_xml" data-capability-name="datasource-export_xml" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'export_xml', 'datasource-export_xml')}}"><span data-tooltip="Télécharger la source de données: {{capabilityTitleKey(data.row, 'datasource', 'export_xml', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'export_xml', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-datasource-delete" data-capability-name="datasource-delete" class="tb-capability-value-cell tb-explicit-capability-value tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'delete', 'datasource-delete')}}"><span data-tooltip="Supprimer: {{capabilityTitleKey(data.row, 'datasource', 'delete', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'delete', 'unspecified')}}"></span></div><div data-tb-test-id="explicit-capability-value-datasource-change_permissions" data-capability-name="datasource-change_permissions" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right tb-relevant-capability-{{relevantCapabilityClass(data.row, 'datasource', 'change_permissions', 'datasource-change_permissions')}}"><span data-tooltip="Définir les autorisations: {{capabilityTitleKey(data.row, 'datasource', 'change_permissions', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'change_permissions', 'unspecified')}}"></span></div></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(2, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(2, columnWidths.getPreferred(2))" class="tb-section-group-divider"></div></div></tb:template></tb:template-list><tb:template-list ng-switch-default="ng-switch-default" templates="templates.cells"><tb:template><div class="tb-explicit-cell-background"><span class="tb-grantee-type-icon tb-grantee-type-icon-{{granteeType(data.row)}}"></span><span class="tb-explicit-permission-name">{{granteeName(data.row)}}</span></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(0, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(0, columnWidths.getPreferred(0))" class="tb-section-group-divider"></div></div></tb:template><tb:template><div class="tb-permissions-role-menu"><tb:select tb-test-id="permission-role-menu" ng-model="selectedRoleByContentType['datasource']"><tb:select-option ng-if="selectedRoleByContentType['datasource'] === 'custom'" value="'custom'"><span translate="custom"></span></tb:select-option><tb:select-option ng-repeat="role in roleOptions('datasource')" value="role"><span translate="{{role}}"></span></tb:select-option></tb:select></div></tb:template><tb:template><div data-tb-test-id="editable-capability-value-datasource-read" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left tb-permissions-section-first"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['read']" data-tooltip="Afficher - {{capabilityTitleKey(data.row, 'datasource', 'read', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'read', 'unspecified')}}"></span></div><div data-tb-test-id="editable-capability-value-datasource-connect" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['connect']" data-tooltip="Connexion - {{capabilityTitleKey(data.row, 'datasource', 'connect', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'connect', 'unspecified')}}"></span></div></tb:template><tb:template><div data-tb-test-id="editable-capability-value-datasource-write" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-left"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['write']" data-tooltip="Enregistrer - {{capabilityTitleKey(data.row, 'datasource', 'write', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'write', 'unspecified')}}"></span></div><div data-tb-test-id="editable-capability-value-datasource-export_xml" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['export_xml']" data-tooltip="Télécharger la source de données - {{capabilityTitleKey(data.row, 'datasource', 'export_xml', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'export_xml', 'unspecified')}}"></span></div><div data-tb-test-id="editable-capability-value-datasource-delete" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['delete']" data-tooltip="Supprimer - {{capabilityTitleKey(data.row, 'datasource', 'delete', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'delete', 'unspecified')}}"></span></div><div data-tb-test-id="editable-capability-value-datasource-change_permissions" ng-show="accordion.isSectionOpen(0)" class="tb-capability-value-cell tb-explicit-capability-value tb-permissions-section-right"><span tb-editable-capability-value="data.row.permissionsByContentType['datasource']['change_permissions']" data-tooltip="Définir les autorisations - {{capabilityTitleKey(data.row, 'datasource', 'change_permissions', 'unspecified')|translate}}" class="tb-capability-value tb-capability-value-{{capabilityValue(data.row, 'datasource', 'change_permissions', 'unspecified')}}"></span></div></tb:template><tb:template><div class="tb-relative tb-section-group-divider-container"><div tb-mouse-capture-down="columnWidths.resizer.startResize(2, $event.pageX)" tb-mouse-capture="resize($event.pageX)" ng-dblclick="columnWidths.setActual(2, columnWidths.getPreferred(2))" class="tb-section-group-divider"></div></div></tb:template></tb:template-list></div>